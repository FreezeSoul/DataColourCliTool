#!/usr/bin/env node

const a0_0x496a=['L21hbmlmZXN0Lmpzb24=','5Y+R5biD5LiA5LiqV2lkZ2V0','YXJndg==','TGludXg6IC9vcHQvZ29vZ2xlL2Nocm9tZS9jaHJvbWUgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9L3RtcC9jaHJvbWVfdG1w','ZGF0YQ==','5b2T5YmNV2lkZ2V054mI5pys5Y+377ya','b3Jh','6YOo5Lu25q2j5Zyo5Y+R5biD5LitLi4u','5qCH6K+GOg==','aHR0cC1wcm94eS1taWRkbGV3YXJl','5q2j5Zyo5LiL6L29V2lkZ2V05qih5p2/Li4u','bG9n','Li4u','d3JpdGVGaWxlU3luYw==','Y3JlYXRl','5Yid5aeL5YyWV2lkZ2V06aG555uu','d2lkZ2V0cw==','5bey5a2Y5Zyo','LOWQjeensDo=','aW5mbw==','5Luj55CG5pyN5Yqh5Zmo5bey5ZCv5YqoLi4u','5ZG95Luk6KGM5ZCv5Yqo5rWP6KeI5Zmo56S65L6L77ya','5Yid5aeL5YyW5LiA5LiqV2lkZ2V0','c3Bhd24=','ZXhlY1N5bmM=','bmFtZQ==','bG9nLXN5bWJvbHM=','5LiN5a2Y5Zyo','6K+36L6T5YWlV2lkZ2V055qE5qCH6K+G77yM6KaB5rGC6Iux5paH44CB5pWw5a2X44CB5LiL5YiS57q/','Ymx1ZQ==','aHR0cDovLzM5LjEwMS4xMzguNDM6ODA4MA==','6K+36L6T5YWl5L2c6ICF5ZCN56ew77yM5aaC77yaRnJlZXplU291bDxmcmVlemVzb3VsQGdtYWlsLmNvbT4=','cGFyc2U=','ZW5k','6YOo5Lu25bey5oiQ5Yqf5Y+R5biDLi4u','Y29tbWFuZA==','ZXJyb3I=','5YiX5Ye65omA5pyJV2lkZ2V0','cHV0','ZXhwcmVzcw==','cHVibGlzaA==','aGFuZGxlYmFycw==','V2luZG93OiAiQzpQcm9ncmFtIEZpbGVzICh4ODYpR29vZ2xlQ2hyb21lQXBwbGljYXRpb25jaHJvbWUuZXhlIiAtLWRpc2FibGUtd2ViLXNlY3VyaXR5IC0tdXNlci1kYXRhLWRpcj1+L2Nocm9tZV90bXA=','bnBtIGluc3RhbGw=','c3JjL3dpZGdldHMvd2lkZ2V0cy5qc29u','Y29tbWFuZGVy','cmVk','cmVhZEZpbGVTeW5j','V2lkZ2V0Og==','dGV4dA==','T1NYOiBvcGVuIC1uIC1hIC9BcHBsaWNhdGlvbnMvR29vZ2xlIENocm9tZS5hcHAvQ29udGVudHMvTWFjT1MvR29vZ2xlIENocm9tZSAtLWFyZ3MgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9Ii90bXAvY2hyb21lX3RtcCI=','ZmFpbA==','6K+36L6T5YWlV2lkZ2V055qE5ZCN56ew77yM6KaB5rGC566A55+t55qE5Lit5paH5ZCN56ew5a6a5LmJ','dGFyLWZz','bGVuZ3Ro','5bey57uP5a2Y5ZyoV2lkZ2V0Og==','5byA5aeL5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','YWN0aW9u','c3RhdFN5bmM=','Y2hpbGRfcHJvY2Vzcw==','6K+36L6T5YWlV2lkZ2V055qE5o+P6L+w77yM6KaB5rGC566A55+t55qE5Lit5paH5o+P6L+w5L+h5oGv','LOeJiOacrDo=','bGlzdA==','dmVyc2lvbg==','Z3JlZW4=','dXNl','YXV0aG9y','cHVzaA==','6K+35Y+N6aaI5Y+R5biD5bqP5Y+3Og==','5q2j5Zyo5ZCv5Yqo5Luj55CG5pyN5YqhLi4u','cGFja2FnZS5qc29u','Y3JlYXRlV3JpdGVTdHJlYW0=','bGlzdGVu','6K+36YCJ5oup6KaB6LCD6K+V55qEV2lkZ2V0','5Yib5bu65LiA5LiqV2lkZ2V0','ZGVidWc=','V2lkZ2V05qih5p2/5paH5Lu25aS55LiN5a2Y5Zyo','Y3JlYXRlUmVhZFN0cmVhbQ==','6aG555uu5Yid5aeL5YyW5a6M5oiQ','dG9TdHJpbmc=','c2l6ZQ==','c3JjL3dpZGdldHMv','c3JjL3dpZGdldHMvd2lkZ2V0','bnBt','5pyN5Yqh5Zmo6L+e5o6l5bey5bu656uLLi4u','cGFjaw==','ZGVzY3JpcHRpb24=','5a6M5oiQ5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','ZnRw','dG9GaXhlZA==','Y29weS1kaXI=','ZXhpc3RzU3luYw==','cGlwZQ==','c3VjY2VlZA==','dGhlbg==','VGVzdA==','Y29ubmVjdA==','c3RhcnQtd2lkZ2V0','bWF0Y2g=','c3luYw==','cmF3bGlzdA==','c3VjY2Vzcw==','ZG93bmxvYWQtZ2l0LXJlcG8=','bnBtIHJ1biBidWlsZC13aWRnZXQ6cHJvIC0tIC0tbmFtZT0=','6LCD6K+V5LiA5LiqV2lkZ2V0','aW5oZXJpdA==','6K+75Y+W5aSx6LSl','dG9JU09TdHJpbmc=','LXYsIC0tdmVyc2lvbg==','cmVwbGFjZQ==','aHR0cDovLzEyNy4wLjAuMTo4MDg4Lw==','d2hpdGU=','c3RhcnQ=','cGF0aA==','5q2j5Zyo5Yib5bu6V2lkZ2V0Og==','L3dpZGdldHM=','d2lkZ2V0cy5qc29u6K+75Y+W5aSx6LSl','cnVu','cmVzb2x2ZQ==','c3RyaW5naWZ5','cHJvbXB0','6K+36YCJ5oup6KaB5Y+R5biD55qEV2lkZ2V0','ZW5hYmxl'];(function(_0x4dfcbd,_0x31e88e){const _0x3aa127=function(_0x2c2f1b){while(--_0x2c2f1b){_0x4dfcbd['push'](_0x4dfcbd['shift']());}};_0x3aa127(++_0x31e88e);}(a0_0x496a,0x1bf));const a0_0x2abe=function(_0x4dfcbd,_0x31e88e){_0x4dfcbd=_0x4dfcbd-0x0;let _0x3aa127=a0_0x496a[_0x4dfcbd];if(a0_0x2abe['zfdxGf']===undefined){(function(){let _0x312b6e;try{const _0x38d115=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x312b6e=_0x38d115();}catch(_0xc94a97){_0x312b6e=window;}const _0x553b46='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x312b6e['atob']||(_0x312b6e['atob']=function(_0x24f80f){const _0x5e3468=String(_0x24f80f)['replace'](/=+$/,'');let _0x254a2f='';for(let _0x4584aa=0x0,_0x21007a,_0x2939ab,_0x1171f9=0x0;_0x2939ab=_0x5e3468['charAt'](_0x1171f9++);~_0x2939ab&&(_0x21007a=_0x4584aa%0x4?_0x21007a*0x40+_0x2939ab:_0x2939ab,_0x4584aa++%0x4)?_0x254a2f+=String['fromCharCode'](0xff&_0x21007a>>(-0x2*_0x4584aa&0x6)):0x0){_0x2939ab=_0x553b46['indexOf'](_0x2939ab);}return _0x254a2f;});}());a0_0x2abe['HHEgYY']=function(_0x5c510b){const _0x253666=atob(_0x5c510b);let _0x177ed0=[];for(let _0x51faca=0x0,_0x5040c3=_0x253666['length'];_0x51faca<_0x5040c3;_0x51faca++){_0x177ed0+='%'+('00'+_0x253666['charCodeAt'](_0x51faca)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x177ed0);};a0_0x2abe['zXXOvk']={};a0_0x2abe['zfdxGf']=!![];}const _0x2c2f1b=a0_0x2abe['zXXOvk'][_0x4dfcbd];if(_0x2c2f1b===undefined){_0x3aa127=a0_0x2abe['HHEgYY'](_0x3aa127);a0_0x2abe['zXXOvk'][_0x4dfcbd]=_0x3aa127;}else{_0x3aa127=_0x2c2f1b;}return _0x3aa127;};const fs=require('fs');const path=require(a0_0x2abe('0x23'));const ora=require(a0_0x2abe('0x33'));const tar=require(a0_0x2abe('0x62'));const Client=require(a0_0x2abe('0xa'));const chalk=require('chalk');const express=require(a0_0x2abe('0x54'));const copydir=require(a0_0x2abe('0xc'));const program=require(a0_0x2abe('0x5a'));const inquirer=require('inquirer');const symbols=require(a0_0x2abe('0x47'));const handlebars=require(a0_0x2abe('0x56'));const proxy=require(a0_0x2abe('0x36'));const download=require(a0_0x2abe('0x18'));const child_process=require(a0_0x2abe('0x68'));const githublink='FreezeSoul/DataColourWidgetTemplate#master';const dcServerAddress=a0_0x2abe('0x4b');const widgetDebugUrl=a0_0x2abe('0x20');const ftpServerAddress='ftp.datacolour.cn';const ftpServerUserName='datacolour';const ftpServerPassword='datacolour';const proxyServerPort=0x270f;try{const packagePath=path[a0_0x2abe('0x28')](__dirname,a0_0x2abe('0x73'));if(fs[a0_0x2abe('0xd')](packagePath)){const pjson=require(packagePath);const version=pjson[a0_0x2abe('0x6c')];program[a0_0x2abe('0x6c')](version,a0_0x2abe('0x1e'));}}catch(a0_0x2a1a9e){}program[a0_0x2abe('0x50')]('init\x20<name>')[a0_0x2abe('0x8')](a0_0x2abe('0x3c'))[a0_0x2abe('0x66')](_0xaf29a=>{if(!fs['existsSync'](_0xaf29a)){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk['white']('初始化Widget项目'));const _0x2d5694=ora(a0_0x2abe('0x37'));_0x2d5694['start']();download(githublink,_0xaf29a,{'clone':![]},_0x51999b=>{if(_0x51999b){_0x2d5694[a0_0x2abe('0x60')]();console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](_0x51999b));}else{_0x2d5694[a0_0x2abe('0xf')]();process['chdir'](_0xaf29a);console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x21')](a0_0x2abe('0x65')));child_process[a0_0x2abe('0x45')](a0_0x2abe('0x58'),{'stdio':a0_0x2abe('0x1b')});console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk['white'](a0_0x2abe('0x9')));console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x21')](a0_0x2abe('0x43')));inquirer[a0_0x2abe('0x2a')]([{'name':'id','message':a0_0x2abe('0x49')},{'name':'name','message':a0_0x2abe('0x61')},{'name':'description','message':a0_0x2abe('0x69')},{'name':a0_0x2abe('0x6f'),'message':a0_0x2abe('0x4c')}])[a0_0x2abe('0x10')](_0x36cd0c=>{try{const _0x47df7a=_0x36cd0c['id'];const _0x3b1f44=_0x36cd0c[a0_0x2abe('0x46')];const _0x3380f5=_0x36cd0c['description'];const _0x574331=_0x36cd0c[a0_0x2abe('0x6f')];const _0x207117=createWidget(_0x47df7a,_0x3b1f44,_0x3380f5,_0x574331);if(_0x207117){console['log'](symbols['success'],chalk['green'](a0_0x2abe('0x0')));}}catch(_0x2f27b1){console['log'](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](_0x2f27b1));}});}});}else{console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')]('项目'+_0xaf29a+a0_0x2abe('0x3e')));}});program[a0_0x2abe('0x50')](a0_0x2abe('0x6b'))[a0_0x2abe('0x8')](a0_0x2abe('0x52'))[a0_0x2abe('0x66')](()=>{try{const _0x2aca00='src/widgets/widgets.json';if(fs[a0_0x2abe('0xd')](_0x2aca00)){const _0x3f485a=fs[a0_0x2abe('0x5c')](_0x2aca00)[a0_0x2abe('0x1')]();const _0x5e36f7=JSON[a0_0x2abe('0x4d')](_0x3f485a);for(let _0x575bd9 of _0x5e36f7[a0_0x2abe('0x3d')]){const _0x351b01='src/widgets/'+_0x575bd9[a0_0x2abe('0x23')];const _0x2863da=_0x351b01+a0_0x2abe('0x2d');if(fs[a0_0x2abe('0xd')](_0x2863da)){let _0x2ff132=fs[a0_0x2abe('0x5c')](_0x2863da)['toString']();const _0x1f77c7=JSON[a0_0x2abe('0x4d')](_0x2ff132);console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x21')]('标识:'+_0x1f77c7['id']+a0_0x2abe('0x3f')+_0x1f77c7[a0_0x2abe('0x46')]+a0_0x2abe('0x6a')+_0x1f77c7[a0_0x2abe('0x6c')]));}}}}catch(_0xb7a794){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](_0xb7a794));}});program[a0_0x2abe('0x50')](a0_0x2abe('0x3b'))['description'](a0_0x2abe('0x77'))[a0_0x2abe('0x66')](()=>{inquirer[a0_0x2abe('0x2a')]([{'name':'id','message':'请输入Widget的标识，要求英文、数字、下划线'},{'name':a0_0x2abe('0x46'),'message':a0_0x2abe('0x61')},{'name':a0_0x2abe('0x8'),'message':'请输入Widget的描述，要求简短的中文描述信息'},{'name':a0_0x2abe('0x6f'),'message':a0_0x2abe('0x4c')}])[a0_0x2abe('0x10')](_0x3d9309=>{try{const _0x594226=_0x3d9309['id'];const _0x5723e7=_0x3d9309['name'];const _0x53ba3d=_0x3d9309[a0_0x2abe('0x8')];const _0x251cdf=_0x3d9309[a0_0x2abe('0x6f')];const _0x3984bc='src/widgets/'+_0x594226;if(!fs[a0_0x2abe('0xd')](_0x3984bc)){const _0x18b619=createWidget(_0x594226,_0x5723e7,_0x53ba3d,_0x251cdf);if(_0x18b619){console[a0_0x2abe('0x38')](symbols['success'],chalk[a0_0x2abe('0x6d')]('Widget创建成功'));}}else{console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](a0_0x2abe('0x64')+_0x594226));}}catch(_0x9a8209){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](_0x9a8209));}});});program['command'](a0_0x2abe('0x78'))[a0_0x2abe('0x8')](a0_0x2abe('0x1a'))['action'](()=>{inquirer[a0_0x2abe('0x2a')]([{'name':'id','message':a0_0x2abe('0x76'),'type':a0_0x2abe('0x16'),'choices':getWidgetIdList()}])[a0_0x2abe('0x10')](_0x42ed98=>{try{const _0x554712=_0x42ed98['id'];const _0x213a85=a0_0x2abe('0x3')+_0x554712+'/manifest.json';if(fs[a0_0x2abe('0xd')](_0x213a85)){const _0x144936=a0_0x2abe('0x59');let _0x103f70=fs[a0_0x2abe('0x5c')](_0x144936)[a0_0x2abe('0x1')]();const _0x425d6f=JSON[a0_0x2abe('0x4d')](_0x103f70);_0x425d6f['version']=getNextVersion(_0x425d6f[a0_0x2abe('0x6c')]);for(let _0x157ae3 of _0x425d6f['widgets']){_0x157ae3[a0_0x2abe('0x2c')]=_0x157ae3[a0_0x2abe('0x23')]===_0x554712;}_0x103f70=JSON['stringify'](_0x425d6f,null,0x2);fs[a0_0x2abe('0x3a')](_0x144936,_0x103f70);let _0x2b2515=fs['readFileSync'](_0x213a85)[a0_0x2abe('0x1')]();const _0x419001=JSON[a0_0x2abe('0x4d')](_0x2b2515);_0x419001[a0_0x2abe('0x6c')]=getNextVersion(_0x419001[a0_0x2abe('0x6c')]);_0x2b2515=JSON[a0_0x2abe('0x29')](_0x419001,null,0x2);fs[a0_0x2abe('0x3a')](_0x213a85,_0x2b2515);console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x21')]('当前Widget版本号：'+_0x419001[a0_0x2abe('0x6c')]));startProxyServer(dcServerAddress,function(){const _0x35ee3a=child_process[a0_0x2abe('0x44')](a0_0x2abe('0x5'),[a0_0x2abe('0x27'),a0_0x2abe('0x13'),'--\x20--name='+_0x554712],{'shell':!![]});_0x35ee3a['stdout']['on'](a0_0x2abe('0x31'),function(_0x16c126){console[a0_0x2abe('0x38')](_0x16c126['toString']());});_0x35ee3a['stderr']['on'](a0_0x2abe('0x31'),function(_0x56838c){console['log'](_0x56838c[a0_0x2abe('0x1')]());});});}else{console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](a0_0x2abe('0x5d')+_0x554712+a0_0x2abe('0x48')));}}catch(_0x3e0940){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk['red'](_0x3e0940));}});});program['command']('build')[a0_0x2abe('0x8')]('构建一个Widget')[a0_0x2abe('0x66')](()=>{inquirer[a0_0x2abe('0x2a')]([{'name':'id','message':'请选择要构建的Widget','type':a0_0x2abe('0x16'),'choices':getWidgetIdList()}])[a0_0x2abe('0x10')](_0x50a7f0=>{try{const _0x3ff934=_0x50a7f0['id'];const _0x340af9='src/widgets/'+_0x3ff934+a0_0x2abe('0x2d');if(fs[a0_0x2abe('0xd')](_0x340af9)){let _0x481d79=fs['readFileSync'](_0x340af9)[a0_0x2abe('0x1')]();const _0x464a8b=JSON[a0_0x2abe('0x4d')](_0x481d79);_0x464a8b['version']=getNextVersion(_0x464a8b[a0_0x2abe('0x6c')]);_0x481d79=JSON[a0_0x2abe('0x29')](_0x464a8b,null,0x2);fs['writeFileSync'](_0x340af9,_0x481d79);console['log'](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x21')](a0_0x2abe('0x32')+_0x464a8b[a0_0x2abe('0x6c')]));child_process[a0_0x2abe('0x45')](a0_0x2abe('0x19')+_0x3ff934,{'stdio':a0_0x2abe('0x1b')});}else{console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')]('Widget:'+_0x3ff934+a0_0x2abe('0x48')));}}catch(_0x3ea9d3){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](_0x3ea9d3));}});});program[a0_0x2abe('0x50')](a0_0x2abe('0x55'))[a0_0x2abe('0x8')](a0_0x2abe('0x2e'))[a0_0x2abe('0x66')](()=>{inquirer[a0_0x2abe('0x2a')]([{'name':'id','message':a0_0x2abe('0x2b'),'type':a0_0x2abe('0x16'),'choices':getWidgetIdList()}])['then'](_0x4ac876=>{try{const _0x2bd54b=_0x4ac876['id'];const _0x2c58f2='src/widgets/'+_0x2bd54b;const _0x3bf7fc=_0x2c58f2+a0_0x2abe('0x2d');const _0x78e279=new Date()[a0_0x2abe('0x1d')]()[a0_0x2abe('0x1f')](/T/,'')[a0_0x2abe('0x1f')](/\..+/,'')[a0_0x2abe('0x1f')](/-/g,'')[a0_0x2abe('0x1f')](/:/g,'');const _0xb5cb35=''+_0x2bd54b+_0x78e279;const _0x3c3267=_0xb5cb35+'.tar';if(fs[a0_0x2abe('0xd')](_0x3bf7fc)){tar[a0_0x2abe('0x7')](_0x2c58f2)[a0_0x2abe('0xe')](fs[a0_0x2abe('0x74')](_0x3c3267));connectFtpServer(function(_0x5ee98a){const _0x45b58d=ora(a0_0x2abe('0x34'));_0x45b58d['start']();const _0x2d4272=fs[a0_0x2abe('0x7a')](_0x3c3267);const _0x4fc6aa=fs[a0_0x2abe('0x67')](_0x3c3267)[a0_0x2abe('0x2')];_0x5ee98a[a0_0x2abe('0x53')](_0x2d4272,_0x3c3267,function(_0x53eee1){if(_0x53eee1){_0x45b58d[a0_0x2abe('0x60')]();console['log'](symbols['error'],chalk[a0_0x2abe('0x5b')](_0x53eee1));throw _0x53eee1;}_0x5ee98a[a0_0x2abe('0x4e')]();_0x45b58d['succeed'](a0_0x2abe('0x34'));console['log'](symbols[a0_0x2abe('0x17')],chalk['white'](a0_0x2abe('0x4f')));console['log'](symbols['info'],chalk[a0_0x2abe('0x21')](a0_0x2abe('0x71')+_0xb5cb35));});let _0x24dc3f=0x0;_0x2d4272['on']('data',function(_0x27ef6f){_0x24dc3f+=_0x27ef6f[a0_0x2abe('0x63')];_0x45b58d[a0_0x2abe('0x5e')]='部件正在发布中...\x09'+((_0x24dc3f/_0x4fc6aa*0x64)[a0_0x2abe('0xb')](0x2)+'%');});});}else{console['log'](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](a0_0x2abe('0x5d')+_0x2bd54b+a0_0x2abe('0x48')));}}catch(_0x1a99d4){console['log'](symbols['error'],chalk[a0_0x2abe('0x5b')](_0x1a99d4));}});});program['parse'](process[a0_0x2abe('0x2f')]);function createWidget(_0x2595ce,_0x1d174a,_0x5de952,_0x574ca4){if(!_0x2595ce||!_0x1d174a||!_0x5de952){console['log'](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')]('请提供完整的Widget信息'));return![];}console[a0_0x2abe('0x38')](symbols['info'],chalk[a0_0x2abe('0x21')](a0_0x2abe('0x24')+_0x2595ce+a0_0x2abe('0x39')));try{const _0x46c3bc=a0_0x2abe('0x3')+_0x2595ce;const _0x4377fa=a0_0x2abe('0x4');if(!fs[a0_0x2abe('0xd')](_0x4377fa)){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](a0_0x2abe('0x79')));return![];}if(fs[a0_0x2abe('0xd')](_0x46c3bc)){console['log'](symbols[a0_0x2abe('0x51')],chalk['red']('Widget:'+_0x2595ce+a0_0x2abe('0x3e')));return![];}copydir[a0_0x2abe('0x15')](_0x4377fa,_0x46c3bc);const _0x5dc5db=_0x46c3bc+a0_0x2abe('0x2d');let _0x2251ce=fs[a0_0x2abe('0x5c')](_0x5dc5db)[a0_0x2abe('0x1')]();const _0x1dff52=JSON[a0_0x2abe('0x4d')](_0x2251ce);_0x1dff52['id']=_0x2595ce;_0x1dff52['name']=_0x1d174a;_0x1dff52['description']=_0x5de952;_0x1dff52[a0_0x2abe('0x6f')]=_0x574ca4;_0x2251ce=JSON[a0_0x2abe('0x29')](_0x1dff52,null,0x2);fs[a0_0x2abe('0x3a')](_0x5dc5db,_0x2251ce);const _0x451e74=a0_0x2abe('0x59');let _0x203ed8=fs['readFileSync'](_0x451e74)[a0_0x2abe('0x1')]();const _0x927f21=JSON[a0_0x2abe('0x4d')](_0x203ed8);_0x927f21[a0_0x2abe('0x6c')]=getNextVersion(_0x927f21[a0_0x2abe('0x6c')]);for(let _0x445467 of _0x927f21['widgets']){_0x445467[a0_0x2abe('0x2c')]=![];}_0x927f21[a0_0x2abe('0x3d')][a0_0x2abe('0x70')]({'group':'测试','tag':a0_0x2abe('0x11'),'path':_0x2595ce,'enable':!![]});_0x203ed8=JSON[a0_0x2abe('0x29')](_0x927f21,null,0x2);fs[a0_0x2abe('0x3a')](_0x451e74,_0x203ed8);console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x21')]('完成创建Widget:'+_0x2595ce+a0_0x2abe('0x39')));}catch(_0x207696){console[a0_0x2abe('0x38')](symbols['error'],chalk[a0_0x2abe('0x5b')](_0x207696));}return!![];}function getNextVersion(_0x25b48b){if(_0x25b48b){const _0x5c04ac=_0x25b48b[a0_0x2abe('0x14')](/(.*\.)(\d+)$/);if(_0x5c04ac&&_0x5c04ac[0x1]&&_0x5c04ac[0x2]){return''+_0x5c04ac[0x1]+(parseInt(_0x5c04ac[0x2])+0x1);}}return _0x25b48b;}function getWidgetIdList(){const _0x1596cf=[];try{const _0x5aaaed=a0_0x2abe('0x59');if(fs['existsSync'](_0x5aaaed)){const _0x5feaab=fs['readFileSync'](_0x5aaaed)['toString']();const _0x8ed3b5=JSON['parse'](_0x5feaab);for(let _0x25cd9d of _0x8ed3b5[a0_0x2abe('0x3d')]){try{const _0x112f11='src/widgets/'+_0x25cd9d[a0_0x2abe('0x23')];const _0x4817b2=_0x112f11+a0_0x2abe('0x2d');if(fs['existsSync'](_0x4817b2)){let _0x8680f9=fs[a0_0x2abe('0x5c')](_0x4817b2)[a0_0x2abe('0x1')]();const _0x3e748e=JSON[a0_0x2abe('0x4d')](_0x8680f9);_0x1596cf[a0_0x2abe('0x70')]({'value':_0x3e748e['id'],'name':a0_0x2abe('0x35')+_0x3e748e['id']+a0_0x2abe('0x3f')+_0x3e748e[a0_0x2abe('0x46')]+a0_0x2abe('0x6a')+_0x3e748e[a0_0x2abe('0x6c')]});}}catch(_0x472170){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](_0x25cd9d[a0_0x2abe('0x23')]+a0_0x2abe('0x1c')));console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](_0x472170));}}}}catch(_0x50c2f0){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x51')],chalk[a0_0x2abe('0x5b')](a0_0x2abe('0x26')));console[a0_0x2abe('0x38')](symbols['error'],chalk[a0_0x2abe('0x5b')](_0x50c2f0));}return _0x1596cf;}function startProxyServer(_0x1b427e,_0x6a9b58){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x4a')](a0_0x2abe('0x72')));var _0x560205=express();_0x560205[a0_0x2abe('0x6e')]('/',proxy({'target':_0x1b427e,'changeOrigin':!![],'pathRewrite':{'/core/widgets':a0_0x2abe('0x25')},'router':{'/core/widgets':widgetDebugUrl}}));_0x560205[a0_0x2abe('0x75')](proxyServerPort,function(){console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x4a')](a0_0x2abe('0x41')));console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk['green'](a0_0x2abe('0x42')));console[a0_0x2abe('0x38')](symbols[a0_0x2abe('0x40')],chalk[a0_0x2abe('0x6d')](a0_0x2abe('0x57')));console['log'](symbols['info'],chalk[a0_0x2abe('0x6d')](a0_0x2abe('0x30')));console['log'](symbols[a0_0x2abe('0x40')],chalk['green'](a0_0x2abe('0x5f')));if(_0x6a9b58){_0x6a9b58();}});}function connectFtpServer(_0x1a5273){const _0x11bfd5=new Client();const _0x302265=ora('开始建立服务器连接...');_0x302265[a0_0x2abe('0x22')]();_0x11bfd5['on']('ready',function(){_0x302265[a0_0x2abe('0xf')]();console[a0_0x2abe('0x38')](symbols['info'],chalk['white'](a0_0x2abe('0x6')));if(_0x1a5273){_0x1a5273(_0x11bfd5);}});_0x11bfd5['on'](a0_0x2abe('0x51'),function(_0x327698){_0x302265[a0_0x2abe('0x60')]();console[a0_0x2abe('0x38')](symbols['error'],chalk['red'](_0x327698));});_0x11bfd5[a0_0x2abe('0x12')]({'host':ftpServerAddress,'user':ftpServerUserName,'password':ftpServerPassword});}