#!/usr/bin/env node

const a0_0x1ca2=['cmVzb2x2ZQ==','cmF3bGlzdA==','LXYsIC0tdmVyc2lvbg==','Y29weS1kaXI=','aHR0cDovLzEyNy4wLjAuMTo4MDg4Lw==','c3JjL3dpZGdldHMv','dmVyc2lvbg==','Y2hkaXI=','c3Rkb3V0','bG9n','d2lkZ2V0cy5qc29u6K+75Y+W5aSx6LSl','aGFuZGxlYmFycw==','ZGVidWc=','dXNl','5a6M5oiQ5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','Y2hhbGs=','LS0gLS1uYW1lPQ==','cmVhZEZpbGVTeW5j','6aG555uu5Yid5aeL5YyW5a6M5oiQ','ZXhwcmVzcw==','bWF0Y2g=','aHR0cDovLzEwMy4yNTQuNzAuMjExOjE4MDgw','cHVzaA==','ZmFpbA==','bGVuZ3Ro','bnBt','d2lkZ2V0cw==','Ymx1ZQ==','V2lkZ2V0Og==','aHR0cC1wcm94eS1taWRkbGV3YXJl','6K+36L6T5YWlV2lkZ2V055qE5o+P6L+w77yM6KaB5rGC566A55+t55qE5Lit5paH5o+P6L+w5L+h5oGv','5Y+R5biD5LiA5LiqV2lkZ2V0','6K+36YCJ5oup6KaB5p6E5bu655qEV2lkZ2V0','Y29ubmVjdA==','5YiX5Ye65omA5pyJV2lkZ2V0','5qCH6K+GOg==','ZXhpc3RzU3luYw==','cGlwZQ==','ZXJyb3I=','6YOo5Lu25q2j5Zyo5Y+R5biD5LitLi4u','bGlzdA==','Y2hpbGRfcHJvY2Vzcw==','ZGF0YQ==','5b2T5YmNV2lkZ2V054mI5pys5Y+377ya','ZGF0YWNvbG91cg==','aW5mbw==','bnBtIGluc3RhbGw=','Z3JlZW4=','YXJndg==','MTczLjI0Mi4xMjAuMjUw','ZXhlY1N5bmM=','cmVwbGFjZQ==','YXV0aG9y','d2hpdGU=','c3RyaW5naWZ5','5q2j5Zyo5ZCv5Yqo5Luj55CG5pyN5YqhLi4u','cnVu','5Yid5aeL5YyW5LiA5LiqV2lkZ2V0','dGhlbg==','TGludXg6IC9vcHQvZ29vZ2xlL2Nocm9tZS9jaHJvbWUgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9L3RtcC9jaHJvbWVfdG1w','c3RkZXJy','Y3JlYXRlV3JpdGVTdHJlYW0=','dGFyLWZz','ZW5k','Y29tbWFuZA==','bmFtZQ==','LOWQjeensDo=','6K+75Y+W5aSx6LSl','c3VjY2Vzcw==','5Luj55CG5pyN5Yqh5Zmo5bey5ZCv5YqoLi4u','6YOo5Lu25q2j5Zyo5Y+R5biD5LitLi4uCQ==','5bey57uP5a2Y5ZyoV2lkZ2V0Og==','c3luYw==','6K+36YCJ5oup6KaB5Y+R5biD55qEV2lkZ2V0','Y3JlYXRlUmVhZFN0cmVhbQ==','5q2j5Zyo5Yib5bu6V2lkZ2V0Og==','T1NYOiBvcGVuIC1uIC1hIC9BcHBsaWNhdGlvbnMvR29vZ2xlIENocm9tZS5hcHAvQ29udGVudHMvTWFjT1MvR29vZ2xlIENocm9tZSAtLWFyZ3MgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9Ii90bXAvY2hyb21lX3RtcCI=','cGFja2FnZS5qc29u','c3Bhd24=','YWN0aW9u','6K+36L6T5YWl5L2c6ICF5ZCN56ew77yM5aaC77yaRnJlZXplU291bDxmcmVlemVzb3VsQGdtYWlsLmNvbT4=','Y29tbWFuZGVy','6LCD6K+V5LiA5LiqV2lkZ2V0','5pyN5Yqh5Zmo6L+e5o6l5bey5bu656uLLi4u','5byA5aeL5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','VGVzdA==','d3JpdGVGaWxlU3luYw==','c3VjY2VlZA==','V2lkZ2V05Yib5bu65oiQ5Yqf','RnJlZXplU291bC9EYXRhQ29sb3VyV2lkZ2V0VGVtcGxhdGUjbWFzdGVy','6K+36YCJ5oup6KaB6LCD6K+V55qEV2lkZ2V0','cHVibGlzaA==','5a6M5oiQ5Yib5bu6V2lkZ2V0Og==','c3RhcnQ=','5LiN5a2Y5Zyo','dG9TdHJpbmc=','cGF0aA==','cmVk','ZGVzY3JpcHRpb24=','5p6E5bu65LiA5LiqV2lkZ2V0','6YOo5Lu25bey5oiQ5Yqf5Y+R5biDLi4u','Li4u','L21hbmlmZXN0Lmpzb24=','cHJvbXB0','c3JjL3dpZGdldHMvd2lkZ2V0','c3RhcnQtd2lkZ2V0','ZG93bmxvYWQtZ2l0LXJlcG8=','6K+36L6T5YWlV2lkZ2V055qE5qCH6K+G77yM6KaB5rGC6Iux5paH44CB5pWw5a2X44CB5LiL5YiS57q/','5ZG95Luk6KGM5ZCv5Yqo5rWP6KeI5Zmo56S65L6L77ya','dG9JU09TdHJpbmc=','6K+36L6T5YWlV2lkZ2V055qE5ZCN56ew77yM6KaB5rGC566A55+t55qE5Lit5paH5ZCN56ew5a6a5LmJ','cGFjaw==','YnVpbGQ=','b3Jh','c3JjL3dpZGdldHMvd2lkZ2V0cy5qc29u','c3RhdFN5bmM=','cHV0','5q2j5Zyo5LiL6L29V2lkZ2V05qih5p2/Li4u','5Yid5aeL5YyWV2lkZ2V06aG555uu','5Yib5bu65LiA5LiqV2lkZ2V0','cGFyc2U='];(function(_0x2dbb6b,_0x58eb04){const _0x437183=function(_0x423dbc){while(--_0x423dbc){_0x2dbb6b['push'](_0x2dbb6b['shift']());}};_0x437183(++_0x58eb04);}(a0_0x1ca2,0x1b4));const a0_0x3995=function(_0x2dbb6b,_0x58eb04){_0x2dbb6b=_0x2dbb6b-0x0;let _0x437183=a0_0x1ca2[_0x2dbb6b];if(a0_0x3995['oiyxHt']===undefined){(function(){const _0x5ab0ef=function(){let _0x986c2e;try{_0x986c2e=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3fcad4){_0x986c2e=window;}return _0x986c2e;};const _0x1a75ad=_0x5ab0ef();const _0x778563='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x1a75ad['atob']||(_0x1a75ad['atob']=function(_0x5cd307){const _0x5c7bfa=String(_0x5cd307)['replace'](/=+$/,'');let _0x3363a0='';for(let _0x66a846=0x0,_0x1a17a2,_0x6a47e8,_0xfb08b8=0x0;_0x6a47e8=_0x5c7bfa['charAt'](_0xfb08b8++);~_0x6a47e8&&(_0x1a17a2=_0x66a846%0x4?_0x1a17a2*0x40+_0x6a47e8:_0x6a47e8,_0x66a846++%0x4)?_0x3363a0+=String['fromCharCode'](0xff&_0x1a17a2>>(-0x2*_0x66a846&0x6)):0x0){_0x6a47e8=_0x778563['indexOf'](_0x6a47e8);}return _0x3363a0;});}());a0_0x3995['pVcpPf']=function(_0x3b053f){const _0x2c2dfc=atob(_0x3b053f);let _0x470d3a=[];for(let _0x353d37=0x0,_0x2c6cd2=_0x2c2dfc['length'];_0x353d37<_0x2c6cd2;_0x353d37++){_0x470d3a+='%'+('00'+_0x2c2dfc['charCodeAt'](_0x353d37)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x470d3a);};a0_0x3995['eTdZoH']={};a0_0x3995['oiyxHt']=!![];}const _0x423dbc=a0_0x3995['eTdZoH'][_0x2dbb6b];if(_0x423dbc===undefined){_0x437183=a0_0x3995['pVcpPf'](_0x437183);a0_0x3995['eTdZoH'][_0x2dbb6b]=_0x437183;}else{_0x437183=_0x423dbc;}return _0x437183;};const fs=require('fs');const path=require('path');const ora=require(a0_0x3995('0x28'));const tar=require(a0_0x3995('0x6e'));const Client=require('ftp');const chalk=require(a0_0x3995('0x3f'));const express=require(a0_0x3995('0x43'));const copydir=require(a0_0x3995('0x33'));const program=require(a0_0x3995('0x8'));const inquirer=require('inquirer');const symbols=require('log-symbols');const handlebars=require(a0_0x3995('0x3b'));const proxy=require(a0_0x3995('0x4d'));const download=require(a0_0x3995('0x21'));const child_process=require(a0_0x3995('0x59'));const githublink=a0_0x3995('0x10');const dcServerAddress=a0_0x3995('0x45');const widgetDebugUrl=a0_0x3995('0x34');const ftpServerAddress=a0_0x3995('0x61');const ftpServerUserName=a0_0x3995('0x5c');const ftpServerPassword=a0_0x3995('0x5c');const proxyServerPort=0x270f;try{const packagePath=path[a0_0x3995('0x30')](__dirname,a0_0x3995('0x4'));if(fs[a0_0x3995('0x54')](packagePath)){const pjson=require(packagePath);const version=pjson['version'];program['version'](version,a0_0x3995('0x32'));}}catch(a0_0x2dd08b){}program['command']('init\x20<name>')['description'](a0_0x3995('0x2d'))[a0_0x3995('0x6')](_0x6a7b8a=>{if(!fs['existsSync'](_0x6a7b8a)){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk['white'](a0_0x3995('0x2d')));const _0x535270=ora(a0_0x3995('0x2c'));_0x535270[a0_0x3995('0x14')]();download(githublink,_0x6a7b8a,{'clone':![]},_0x219407=>{if(_0x219407){_0x535270[a0_0x3995('0x47')]();console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk['red'](_0x219407));}else{_0x535270['succeed']();process[a0_0x3995('0x37')](_0x6a7b8a);console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x65')](a0_0x3995('0xb')));child_process[a0_0x3995('0x62')](a0_0x3995('0x5e'),{'stdio':'inherit'});console[a0_0x3995('0x39')](symbols['info'],chalk[a0_0x3995('0x65')](a0_0x3995('0x3e')));console[a0_0x3995('0x39')](symbols['info'],chalk['white'](a0_0x3995('0x69')));inquirer[a0_0x3995('0x1e')]([{'name':'id','message':a0_0x3995('0x22')},{'name':a0_0x3995('0x71'),'message':a0_0x3995('0x25')},{'name':'description','message':a0_0x3995('0x4e')},{'name':a0_0x3995('0x64'),'message':'请输入作者名称，如：FreezeSoul<freezesoul@gmail.com>'}])[a0_0x3995('0x6a')](_0x39f110=>{try{const _0x59fbbf=_0x39f110['id'];const _0x5224e2=_0x39f110['name'];const _0x33d79a=_0x39f110[a0_0x3995('0x19')];const _0x24f403=_0x39f110[a0_0x3995('0x64')];const _0x4c3864=createWidget(_0x59fbbf,_0x5224e2,_0x33d79a,_0x24f403);if(_0x4c3864){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x74')],chalk[a0_0x3995('0x5f')](a0_0x3995('0x42')));}}catch(_0x5aba37){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x5aba37));}});}});}else{console[a0_0x3995('0x39')](symbols['error'],chalk[a0_0x3995('0x18')]('项目'+_0x6a7b8a+'已存在'));}});program[a0_0x3995('0x70')](a0_0x3995('0x58'))['description'](a0_0x3995('0x52'))[a0_0x3995('0x6')](()=>{try{const _0x40b03b=a0_0x3995('0x29');if(fs['existsSync'](_0x40b03b)){const _0x33df20=fs[a0_0x3995('0x41')](_0x40b03b)[a0_0x3995('0x16')]();const _0x3eac68=JSON[a0_0x3995('0x2f')](_0x33df20);for(let _0x19f001 of _0x3eac68['widgets']){const _0x444dcb=a0_0x3995('0x35')+_0x19f001[a0_0x3995('0x17')];const _0x5d57d=_0x444dcb+'/manifest.json';if(fs[a0_0x3995('0x54')](_0x5d57d)){let _0x2a19b6=fs[a0_0x3995('0x41')](_0x5d57d)[a0_0x3995('0x16')]();const _0x43efe0=JSON[a0_0x3995('0x2f')](_0x2a19b6);console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x65')](a0_0x3995('0x53')+_0x43efe0['id']+a0_0x3995('0x72')+_0x43efe0['name']+',版本:'+_0x43efe0[a0_0x3995('0x36')]));}}}}catch(_0x4a2358){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x4a2358));}});program[a0_0x3995('0x70')]('create')[a0_0x3995('0x19')](a0_0x3995('0x2e'))['action'](()=>{inquirer[a0_0x3995('0x1e')]([{'name':'id','message':a0_0x3995('0x22')},{'name':a0_0x3995('0x71'),'message':'请输入Widget的名称，要求简短的中文名称定义'},{'name':a0_0x3995('0x19'),'message':a0_0x3995('0x4e')},{'name':a0_0x3995('0x64'),'message':a0_0x3995('0x7')}])[a0_0x3995('0x6a')](_0x2751d8=>{try{const _0x4e6b1d=_0x2751d8['id'];const _0x48677f=_0x2751d8[a0_0x3995('0x71')];const _0x10756=_0x2751d8[a0_0x3995('0x19')];const _0x5dad3a=_0x2751d8[a0_0x3995('0x64')];const _0x1483e3=a0_0x3995('0x35')+_0x4e6b1d;if(!fs['existsSync'](_0x1483e3)){const _0x577313=createWidget(_0x4e6b1d,_0x48677f,_0x10756,_0x5dad3a);if(_0x577313){console['log'](symbols[a0_0x3995('0x74')],chalk[a0_0x3995('0x5f')](a0_0x3995('0xf')));}}else{console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](a0_0x3995('0x77')+_0x4e6b1d));}}catch(_0x9879b){console['log'](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x9879b));}});});program[a0_0x3995('0x70')](a0_0x3995('0x3c'))['description'](a0_0x3995('0x9'))[a0_0x3995('0x6')](()=>{inquirer['prompt']([{'name':'id','message':a0_0x3995('0x11'),'type':a0_0x3995('0x31'),'choices':getWidgetIdList()}])['then'](_0x13d0f7=>{try{const _0x199357=_0x13d0f7['id'];const _0x2dad49='src/widgets/'+_0x199357+a0_0x3995('0x1d');if(fs[a0_0x3995('0x54')](_0x2dad49)){const _0x2d8e90=a0_0x3995('0x29');let _0x22626f=fs['readFileSync'](_0x2d8e90)['toString']();const _0x102b16=JSON[a0_0x3995('0x2f')](_0x22626f);_0x102b16[a0_0x3995('0x36')]=getNextVersion(_0x102b16['version']);for(let _0x4b0420 of _0x102b16['widgets']){_0x4b0420['enable']=_0x4b0420[a0_0x3995('0x17')]===_0x199357;}_0x22626f=JSON[a0_0x3995('0x66')](_0x102b16,null,0x2);fs[a0_0x3995('0xd')](_0x2d8e90,_0x22626f);let _0x1498c6=fs[a0_0x3995('0x41')](_0x2dad49)['toString']();const _0x2515fa=JSON[a0_0x3995('0x2f')](_0x1498c6);_0x2515fa[a0_0x3995('0x36')]=getNextVersion(_0x2515fa[a0_0x3995('0x36')]);_0x1498c6=JSON[a0_0x3995('0x66')](_0x2515fa,null,0x2);fs[a0_0x3995('0xd')](_0x2dad49,_0x1498c6);console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x65')](a0_0x3995('0x5b')+_0x2515fa[a0_0x3995('0x36')]));startProxyServer(dcServerAddress,function(){const _0x574d7d=child_process[a0_0x3995('0x5')](a0_0x3995('0x49'),[a0_0x3995('0x68'),a0_0x3995('0x20'),a0_0x3995('0x40')+_0x199357],{'shell':!![]});_0x574d7d[a0_0x3995('0x38')]['on'](a0_0x3995('0x5a'),function(_0xd2930d){console[a0_0x3995('0x39')](symbols['info'],chalk[a0_0x3995('0x65')](_0xd2930d['toString']()));});_0x574d7d[a0_0x3995('0x6c')]['on'](a0_0x3995('0x5a'),function(_0x26acd3){console[a0_0x3995('0x39')](symbols['error'],chalk[a0_0x3995('0x18')](_0x26acd3['toString']()));});});}else{console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](a0_0x3995('0x4c')+_0x199357+a0_0x3995('0x15')));}}catch(_0x45fe10){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x45fe10));}});});program['command'](a0_0x3995('0x27'))[a0_0x3995('0x19')](a0_0x3995('0x1a'))[a0_0x3995('0x6')](()=>{inquirer[a0_0x3995('0x1e')]([{'name':'id','message':a0_0x3995('0x50'),'type':a0_0x3995('0x31'),'choices':getWidgetIdList()}])[a0_0x3995('0x6a')](_0x1e35ab=>{try{const _0x138b5b=_0x1e35ab['id'];const _0x91100e='src/widgets/'+_0x138b5b+'/manifest.json';if(fs[a0_0x3995('0x54')](_0x91100e)){let _0x47be9c=fs[a0_0x3995('0x41')](_0x91100e)[a0_0x3995('0x16')]();const _0x20cd86=JSON[a0_0x3995('0x2f')](_0x47be9c);_0x20cd86[a0_0x3995('0x36')]=getNextVersion(_0x20cd86[a0_0x3995('0x36')]);_0x47be9c=JSON[a0_0x3995('0x66')](_0x20cd86,null,0x2);fs[a0_0x3995('0xd')](_0x91100e,_0x47be9c);console[a0_0x3995('0x39')](symbols['info'],chalk[a0_0x3995('0x65')](a0_0x3995('0x5b')+_0x20cd86[a0_0x3995('0x36')]));child_process['execSync']('npm\x20run\x20build-widget:pro\x20--\x20--name='+_0x138b5b,{'stdio':'inherit'});}else{console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk['red'](a0_0x3995('0x4c')+_0x138b5b+'不存在'));}}catch(_0x1d6054){console[a0_0x3995('0x39')](symbols['error'],chalk[a0_0x3995('0x18')](_0x1d6054));}});});program[a0_0x3995('0x70')](a0_0x3995('0x12'))['description'](a0_0x3995('0x4f'))[a0_0x3995('0x6')](()=>{inquirer[a0_0x3995('0x1e')]([{'name':'id','message':a0_0x3995('0x0'),'type':a0_0x3995('0x31'),'choices':getWidgetIdList()}])[a0_0x3995('0x6a')](_0x279b2e=>{try{const _0x42b65f=_0x279b2e['id'];const _0x4bae51='src/widgets/'+_0x42b65f;const _0x4ab802=_0x4bae51+a0_0x3995('0x1d');const _0x593c02=new Date()[a0_0x3995('0x24')]()[a0_0x3995('0x63')](/T/,'')[a0_0x3995('0x63')](/\..+/,'')['replace'](/-/g,'')['replace'](/:/g,'');const _0x1c9644=''+_0x42b65f+_0x593c02;const _0x47217f=_0x1c9644+'.tar';if(fs[a0_0x3995('0x54')](_0x4ab802)){tar[a0_0x3995('0x26')](_0x4bae51)[a0_0x3995('0x55')](fs[a0_0x3995('0x6d')](_0x47217f));connectFtpServer(function(_0x2e0c43){const _0x5caaf7=ora(a0_0x3995('0x57'));_0x5caaf7[a0_0x3995('0x14')]();const _0x531eab=fs[a0_0x3995('0x1')](_0x47217f);const _0x31edb2=fs[a0_0x3995('0x2a')](_0x47217f)['size'];_0x2e0c43[a0_0x3995('0x2b')](_0x531eab,_0x47217f,function(_0x58bc58){if(_0x58bc58){_0x5caaf7['fail']();console['log'](symbols[a0_0x3995('0x56')],chalk['red'](_0x58bc58));throw _0x58bc58;}_0x2e0c43[a0_0x3995('0x6f')]();_0x5caaf7['succeed']('部件正在发布中...');console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x65')](a0_0x3995('0x1b')));console[a0_0x3995('0x39')](symbols['info'],chalk[a0_0x3995('0x65')]('请反馈发布序号:'+_0x1c9644));});let _0x48bc48=0x0;_0x531eab['on'](a0_0x3995('0x5a'),function(_0x19f60d){_0x48bc48+=_0x19f60d[a0_0x3995('0x48')];_0x5caaf7['text']=a0_0x3995('0x76')+((_0x48bc48/_0x31edb2*0x64)['toFixed'](0x2)+'%');});});}else{console[a0_0x3995('0x39')](symbols['error'],chalk[a0_0x3995('0x18')](a0_0x3995('0x4c')+_0x42b65f+'不存在'));}}catch(_0x4f437f){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x4f437f));}});});program[a0_0x3995('0x2f')](process[a0_0x3995('0x60')]);function createWidget(_0x4b2800,_0x22dc36,_0x4bacd0,_0x1864c4){if(!_0x4b2800||!_0x22dc36||!_0x4bacd0){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')]('请提供完整的Widget信息'));return![];}console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x65')](a0_0x3995('0x2')+_0x4b2800+a0_0x3995('0x1c')));try{const _0x33a845=a0_0x3995('0x35')+_0x4b2800;const _0x59e174=a0_0x3995('0x1f');if(!fs[a0_0x3995('0x54')](_0x59e174)){console['log'](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')]('Widget模板文件夹不存在'));return![];}if(fs['existsSync'](_0x33a845)){console['log'](symbols['error'],chalk['red']('Widget:'+_0x4b2800+'已存在'));return![];}copydir[a0_0x3995('0x78')](_0x59e174,_0x33a845);const _0x1dff70=_0x33a845+a0_0x3995('0x1d');let _0x56bdd6=fs[a0_0x3995('0x41')](_0x1dff70)[a0_0x3995('0x16')]();const _0x5e78e5=JSON['parse'](_0x56bdd6);_0x5e78e5['id']=_0x4b2800;_0x5e78e5['name']=_0x22dc36;_0x5e78e5['description']=_0x4bacd0;_0x5e78e5[a0_0x3995('0x64')]=_0x1864c4;_0x56bdd6=JSON['stringify'](_0x5e78e5,null,0x2);fs[a0_0x3995('0xd')](_0x1dff70,_0x56bdd6);const _0x167bf3=a0_0x3995('0x29');let _0x1dc15c=fs['readFileSync'](_0x167bf3)[a0_0x3995('0x16')]();const _0x2664e1=JSON[a0_0x3995('0x2f')](_0x1dc15c);_0x2664e1[a0_0x3995('0x36')]=getNextVersion(_0x2664e1['version']);for(let _0x6773b5 of _0x2664e1['widgets']){_0x6773b5['enable']=![];}_0x2664e1['widgets'][a0_0x3995('0x46')]({'group':'测试','tag':a0_0x3995('0xc'),'path':_0x4b2800,'enable':!![]});_0x1dc15c=JSON[a0_0x3995('0x66')](_0x2664e1,null,0x2);fs[a0_0x3995('0xd')](_0x167bf3,_0x1dc15c);console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x65')](a0_0x3995('0x13')+_0x4b2800+a0_0x3995('0x1c')));}catch(_0x276fe1){console['log'](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x276fe1));}return!![];}function getNextVersion(_0x3c3887){if(_0x3c3887){const _0xf1e211=_0x3c3887[a0_0x3995('0x44')](/(.*\.)(\d+)$/);if(_0xf1e211&&_0xf1e211[0x1]&&_0xf1e211[0x2]){return''+_0xf1e211[0x1]+(parseInt(_0xf1e211[0x2])+0x1);}}return _0x3c3887;}function getWidgetIdList(){const _0x3895ff=[];try{const _0x399b26=a0_0x3995('0x29');if(fs[a0_0x3995('0x54')](_0x399b26)){const _0x4f5c4b=fs[a0_0x3995('0x41')](_0x399b26)[a0_0x3995('0x16')]();const _0xec5103=JSON['parse'](_0x4f5c4b);for(let _0x414da7 of _0xec5103[a0_0x3995('0x4a')]){try{const _0x9e67c=a0_0x3995('0x35')+_0x414da7[a0_0x3995('0x17')];const _0xb2263a=_0x9e67c+a0_0x3995('0x1d');if(fs[a0_0x3995('0x54')](_0xb2263a)){let _0x3bc791=fs[a0_0x3995('0x41')](_0xb2263a)['toString']();const _0x33c73d=JSON['parse'](_0x3bc791);_0x3895ff[a0_0x3995('0x46')]({'value':_0x33c73d['id'],'name':a0_0x3995('0x53')+_0x33c73d['id']+a0_0x3995('0x72')+_0x33c73d[a0_0x3995('0x71')]+',版本:'+_0x33c73d['version']});}}catch(_0x530ace){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x414da7[a0_0x3995('0x17')]+a0_0x3995('0x73')));console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x530ace));}}}}catch(_0x4a898c){console[a0_0x3995('0x39')](symbols['error'],chalk[a0_0x3995('0x18')](a0_0x3995('0x3a')));console[a0_0x3995('0x39')](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x4a898c));}return _0x3895ff;}function startProxyServer(_0x297e28,_0x300e12){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x4b')](a0_0x3995('0x67')));var _0x41fcc7=express();_0x41fcc7[a0_0x3995('0x3d')]('/',proxy({'target':_0x297e28,'changeOrigin':!![],'pathRewrite':{'/core/widgets':'/widgets'},'router':{'/core/widgets':widgetDebugUrl}}));_0x41fcc7['listen'](proxyServerPort,function(){console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk['blue'](a0_0x3995('0x75')));console['log'](symbols['info'],chalk[a0_0x3995('0x5f')](a0_0x3995('0x23')));console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk['green']('Window:\x20\x22C:Program\x20Files\x20(x86)GoogleChromeApplicationchrome.exe\x22\x20--disable-web-security\x20--user-data-dir=~/chrome_tmp'));console[a0_0x3995('0x39')](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x5f')](a0_0x3995('0x6b')));console[a0_0x3995('0x39')](symbols['info'],chalk['green'](a0_0x3995('0x3')));if(_0x300e12){_0x300e12();}});}function connectFtpServer(_0x2e3b0a){const _0x3f641b=new Client();const _0x38e1fd=ora('开始建立服务器连接...');_0x38e1fd[a0_0x3995('0x14')]();_0x3f641b['on']('ready',function(){_0x38e1fd[a0_0x3995('0xe')]();console['log'](symbols[a0_0x3995('0x5d')],chalk[a0_0x3995('0x65')](a0_0x3995('0xa')));if(_0x2e3b0a){_0x2e3b0a(_0x3f641b);}});_0x3f641b['on'](a0_0x3995('0x56'),function(_0x568046){_0x38e1fd[a0_0x3995('0x47')]();console['log'](symbols[a0_0x3995('0x56')],chalk[a0_0x3995('0x18')](_0x568046));});_0x3f641b[a0_0x3995('0x51')]({'host':ftpServerAddress,'user':ftpServerUserName,'password':ftpServerPassword});}