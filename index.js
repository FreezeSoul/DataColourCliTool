#!/usr/bin/env node

const a0_0x2754=['ZXhpc3RzU3luYw==','Y3JlYXRlUmVhZFN0cmVhbQ==','5p6E5bu65LiA5LiqV2lkZ2V0','YWN0aW9u','ZXhwcmVzcw==','YXV0aG9y','5Yid5aeL5YyWV2lkZ2V06aG555uu','6K+36L6T5YWlV2lkZ2V055qE5o+P6L+w77yM6KaB5rGC566A55+t55qE5Lit5paH5o+P6L+w5L+h5oGv','bG9n','aHR0cC1wcm94eS1taWRkbGV3YXJl','5YiX5Ye65omA5pyJV2lkZ2V0','dGFyLWZz','Y29tbWFuZA==','6K+36L6T5YWl5L2c6ICF5ZCN56ew77yM5aaC77yaRnJlZXplU291bDxmcmVlemVzb3VsQGdtYWlsLmNvbT4=','LnRhcg==','ZGF0YWNvbG91cg==','V2luZG93OiAiQzpQcm9ncmFtIEZpbGVzICh4ODYpR29vZ2xlQ2hyb21lQXBwbGljYXRpb25jaHJvbWUuZXhlIiAtLWRpc2FibGUtd2ViLXNlY3VyaXR5IC0tdXNlci1kYXRhLWRpcj1+L2Nocm9tZV90bXA=','c3Rkb3V0','ZG93bmxvYWQtZ2l0LXJlcG8=','ZGVidWc=','c3JjL3dpZGdldHMvd2lkZ2V0cy5qc29u','bWF0Y2g=','Z3JlZW4=','Y29tbWFuZGVy','MTczLjI0Mi4xMjAuMjUw','LOWQjeensDo=','6K+36YCJ5oup6KaB6LCD6K+V55qEV2lkZ2V0','aW5oZXJpdA==','c3luYw==','Y2hkaXI=','cmVwbGFjZQ==','aW5mbw==','aW5xdWlyZXI=','cHV0','ZnRw','aW5pdCA8bmFtZT4=','dG9GaXhlZA==','bnBt','6YOo5Lu25q2j5Zyo5Y+R5biD5LitLi4uCQ==','aHR0cDovLzEyNy4wLjAuMTo4MDg4Lw==','Li4u','5LiN5a2Y5Zyo','YnVpbGQ=','c3VjY2Vzcw==','5ZG95Luk6KGM5ZCv5Yqo5rWP6KeI5Zmo56S65L6L77ya','5q2j5Zyo5LiL6L29V2lkZ2V05qih5p2/Li4u','5byA5aeL5bu656uL5pyN5Yqh5Zmo6L+e5o6lLi4u','6K+36L6T5YWlV2lkZ2V055qE5ZCN56ew77yM6KaB5rGC566A55+t55qE5Lit5paH5ZCN56ew5a6a5LmJ','5bey5a2Y5Zyo','aGFuZGxlYmFycw==','ZmFpbA==','dXNl','LS0gLS1uYW1lPQ==','cHVibGlzaA==','bG9nLXN5bWJvbHM=','Y2hhbGs=','LXYsIC0tdmVyc2lvbg==','V2lkZ2V05Yib5bu65oiQ5Yqf','V2lkZ2V0Og==','cGFja2FnZS5qc29u','c3VjY2VlZA==','bnBtIHJ1biBidWlsZC13aWRnZXQ6cHJvIC0tIC0tbmFtZT0=','cnVu','RnJlZXplU291bC9EYXRhQ29sb3VyV2lkZ2V0VGVtcGxhdGUjbWFzdGVy','ZXhlY1N5bmM=','L21hbmlmZXN0Lmpzb24=','bmFtZQ==','dG9TdHJpbmc=','6YOo5Lu25q2j5Zyo5Y+R5biD5LitLi4u','ZGVzY3JpcHRpb24=','c3RhdFN5bmM=','dGhlbg==','6aG555uu5Yid5aeL5YyW5a6M5oiQ','5Yib5bu65LiA5LiqV2lkZ2V0','ZW5hYmxl','6YOo5Lu25bey5oiQ5Yqf5Y+R5biDLi4u','c3Bhd24=','6K+36L6T5YWlV2lkZ2V055qE5qCH6K+G77yM6KaB5rGC6Iux5paH44CB5pWw5a2X44CB5LiL5YiS57q/','d2hpdGU=','c3JjL3dpZGdldHMv','bGVuZ3Ro','d3JpdGVGaWxlU3luYw==','6K+35Y+N6aaI5Y+R5biD5bqP5Y+3Og==','5q2j5Zyo5Yib5bu6V2lkZ2V0Og==','cGFjaw==','6K+36YCJ5oup6KaB5Y+R5biD55qEV2lkZ2V0','YXJndg==','5Luj55CG5pyN5Yqh5Zmo5bey5ZCv5YqoLi4u','LOeJiOacrDo=','ZGF0YQ==','bGlzdA==','L3dpZGdldHM=','cHJvbXB0','c3RyaW5naWZ5','d2lkZ2V0cy5qc29u6K+75Y+W5aSx6LSl','b3Jh','Ymx1ZQ==','5a6M5oiQ5Yib5bu6V2lkZ2V0Og==','cmVhZEZpbGVTeW5j','5byA5aeL5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','5pyN5Yqh5Zmo6L+e5o6l5bey5bu656uLLi4u','cHVzaA==','ZXJyb3I=','5Y+R5biD5LiA5LiqV2lkZ2V0','cmF3bGlzdA==','5a6M5oiQ5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','c3RhcnQ=','d2lkZ2V0cw==','6K+36YCJ5oup6KaB5p6E5bu655qEV2lkZ2V0','cmVk','5qCH6K+GOg==','dGV4dA==','6K+35o+Q5L6b5a6M5pW055qEV2lkZ2V05L+h5oGv','T1NYOiBvcGVuIC1uIC1hIC9BcHBsaWNhdGlvbnMvR29vZ2xlIENocm9tZS5hcHAvQ29udGVudHMvTWFjT1MvR29vZ2xlIENocm9tZSAtLWFyZ3MgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9Ii90bXAvY2hyb21lX3RtcCI=','Y29weS1kaXI=','5bey57uP5a2Y5ZyoV2lkZ2V0Og==','cGF0aA==','dmVyc2lvbg==','Y3JlYXRl','dG9JU09TdHJpbmc=','c3JjL3dpZGdldHMvd2lkZ2V0','cGFyc2U='];(function(_0x2f922b,_0x54e693){const _0x39310f=function(_0x28c51c){while(--_0x28c51c){_0x2f922b['push'](_0x2f922b['shift']());}};_0x39310f(++_0x54e693);}(a0_0x2754,0x1c0));const a0_0xf63d=function(_0x2f922b,_0x54e693){_0x2f922b=_0x2f922b-0x0;let _0x39310f=a0_0x2754[_0x2f922b];if(a0_0xf63d['gBkiMm']===undefined){(function(){let _0x44f7c3;try{const _0x25c66a=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x44f7c3=_0x25c66a();}catch(_0x308a88){_0x44f7c3=window;}const _0x4739a7='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x44f7c3['atob']||(_0x44f7c3['atob']=function(_0x45d601){const _0x168438=String(_0x45d601)['replace'](/=+$/,'');let _0x16e2c9='';for(let _0x2b27ac=0x0,_0x2c87f4,_0x42da1d,_0x597a1f=0x0;_0x42da1d=_0x168438['charAt'](_0x597a1f++);~_0x42da1d&&(_0x2c87f4=_0x2b27ac%0x4?_0x2c87f4*0x40+_0x42da1d:_0x42da1d,_0x2b27ac++%0x4)?_0x16e2c9+=String['fromCharCode'](0xff&_0x2c87f4>>(-0x2*_0x2b27ac&0x6)):0x0){_0x42da1d=_0x4739a7['indexOf'](_0x42da1d);}return _0x16e2c9;});}());a0_0xf63d['EhRkAI']=function(_0xe562bd){const _0x4c7638=atob(_0xe562bd);let _0x275f76=[];for(let _0x30243c=0x0,_0x97359f=_0x4c7638['length'];_0x30243c<_0x97359f;_0x30243c++){_0x275f76+='%'+('00'+_0x4c7638['charCodeAt'](_0x30243c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x275f76);};a0_0xf63d['AFlJdB']={};a0_0xf63d['gBkiMm']=!![];}const _0x28c51c=a0_0xf63d['AFlJdB'][_0x2f922b];if(_0x28c51c===undefined){_0x39310f=a0_0xf63d['EhRkAI'](_0x39310f);a0_0xf63d['AFlJdB'][_0x2f922b]=_0x39310f;}else{_0x39310f=_0x28c51c;}return _0x39310f;};const fs=require('fs');const path=require('path');const ora=require(a0_0xf63d('0xd'));const tar=require(a0_0xf63d('0x33'));const Client=require(a0_0xf63d('0x4a'));const chalk=require(a0_0xf63d('0x5f'));const express=require(a0_0xf63d('0x2c'));const copydir=require(a0_0xf63d('0x20'));const program=require(a0_0xf63d('0x3f'));const inquirer=require(a0_0xf63d('0x48'));const symbols=require(a0_0xf63d('0x5e'));const handlebars=require(a0_0xf63d('0x59'));const proxy=require(a0_0xf63d('0x31'));const download=require(a0_0xf63d('0x3a'));const child_process=require('child_process');const githublink=a0_0xf63d('0x67');const dcServerAddress='http://103.254.70.211:18080';const widgetDebugUrl=a0_0xf63d('0x4f');const ftpServerAddress=a0_0xf63d('0x40');const ftpServerUserName=a0_0xf63d('0x37');const ftpServerPassword='datacolour';const proxyServerPort=0x270f;try{const packagePath=path['resolve'](__dirname,a0_0xf63d('0x63'));if(fs[a0_0xf63d('0x28')](packagePath)){const pjson=require(packagePath);const version=pjson[a0_0xf63d('0x23')];program[a0_0xf63d('0x23')](version,a0_0xf63d('0x60'));}}catch(a0_0x1f5dbd){}program['command'](a0_0xf63d('0x4b'))['description']('初始化Widget项目')[a0_0xf63d('0x2b')](_0x49f5fe=>{if(!fs['existsSync'](_0x49f5fe)){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x76')](a0_0xf63d('0x2e')));const _0x47738e=ora(a0_0xf63d('0x55'));_0x47738e[a0_0xf63d('0x18')]();download(githublink,_0x49f5fe,{'clone':![]},_0x4daedb=>{if(_0x4daedb){_0x47738e['fail']();console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk['red'](_0x4daedb));}else{_0x47738e[a0_0xf63d('0x64')]();process[a0_0xf63d('0x45')](_0x49f5fe);console['log'](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x76')](a0_0xf63d('0x11')));child_process[a0_0xf63d('0x68')]('npm\x20install',{'stdio':a0_0xf63d('0x43')});console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x47')],chalk['white'](a0_0xf63d('0x17')));console[a0_0xf63d('0x30')](symbols['info'],chalk[a0_0xf63d('0x76')]('初始化一个Widget'));inquirer[a0_0xf63d('0xa')]([{'name':'id','message':'请输入Widget的标识，要求英文、数字、下划线'},{'name':a0_0xf63d('0x6a'),'message':a0_0xf63d('0x57')},{'name':a0_0xf63d('0x6d'),'message':a0_0xf63d('0x2f')},{'name':a0_0xf63d('0x2d'),'message':a0_0xf63d('0x35')}])[a0_0xf63d('0x6f')](_0x18213e=>{try{const _0x4cc26d=_0x18213e['id'];const _0x48851e=_0x18213e[a0_0xf63d('0x6a')];const _0x5443b3=_0x18213e[a0_0xf63d('0x6d')];const _0x922b1a=_0x18213e[a0_0xf63d('0x2d')];const _0x424285=createWidget(_0x4cc26d,_0x48851e,_0x5443b3,_0x922b1a);if(_0x424285){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x53')],chalk['green'](a0_0xf63d('0x70')));}}catch(_0x8ce23a){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](_0x8ce23a));}});}});}else{console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')]('项目'+_0x49f5fe+'已存在'));}});program[a0_0xf63d('0x34')](a0_0xf63d('0x8'))['description'](a0_0xf63d('0x32'))[a0_0xf63d('0x2b')](()=>{try{const _0x52e622=a0_0xf63d('0x3c');if(fs[a0_0xf63d('0x28')](_0x52e622)){const _0x3654c9=fs[a0_0xf63d('0x10')](_0x52e622)[a0_0xf63d('0x6b')]();const _0x27d447=JSON[a0_0xf63d('0x27')](_0x3654c9);for(let _0x57d4dd of _0x27d447[a0_0xf63d('0x19')]){const _0x3e7231=a0_0xf63d('0x77')+_0x57d4dd[a0_0xf63d('0x22')];const _0x2522a8=_0x3e7231+a0_0xf63d('0x69');if(fs['existsSync'](_0x2522a8)){let _0x1d46e9=fs['readFileSync'](_0x2522a8)['toString']();const _0x3665cb=JSON[a0_0xf63d('0x27')](_0x1d46e9);console[a0_0xf63d('0x30')](symbols['info'],chalk[a0_0xf63d('0x76')](a0_0xf63d('0x1c')+_0x3665cb['id']+a0_0xf63d('0x41')+_0x3665cb[a0_0xf63d('0x6a')]+a0_0xf63d('0x6')+_0x3665cb[a0_0xf63d('0x23')]));}}}}catch(_0x1e5703){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk['red'](_0x1e5703));}});program[a0_0xf63d('0x34')](a0_0xf63d('0x24'))['description'](a0_0xf63d('0x71'))[a0_0xf63d('0x2b')](()=>{inquirer[a0_0xf63d('0xa')]([{'name':'id','message':a0_0xf63d('0x75')},{'name':a0_0xf63d('0x6a'),'message':'请输入Widget的名称，要求简短的中文名称定义'},{'name':a0_0xf63d('0x6d'),'message':a0_0xf63d('0x2f')},{'name':a0_0xf63d('0x2d'),'message':'请输入作者名称，如：FreezeSoul<freezesoul@gmail.com>'}])['then'](_0x778809=>{try{const _0x134d3f=_0x778809['id'];const _0x1a15f0=_0x778809[a0_0xf63d('0x6a')];const _0x50593f=_0x778809[a0_0xf63d('0x6d')];const _0x439196=_0x778809[a0_0xf63d('0x2d')];const _0xd0853e=a0_0xf63d('0x77')+_0x134d3f;if(!fs[a0_0xf63d('0x28')](_0xd0853e)){const _0x4613f7=createWidget(_0x134d3f,_0x1a15f0,_0x50593f,_0x439196);if(_0x4613f7){console['log'](symbols[a0_0xf63d('0x53')],chalk[a0_0xf63d('0x3e')](a0_0xf63d('0x61')));}}else{console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](a0_0xf63d('0x21')+_0x134d3f));}}catch(_0x44ed22){console[a0_0xf63d('0x30')](symbols['error'],chalk[a0_0xf63d('0x1b')](_0x44ed22));}});});program[a0_0xf63d('0x34')](a0_0xf63d('0x3b'))[a0_0xf63d('0x6d')]('调试一个Widget')['action'](()=>{inquirer['prompt']([{'name':'id','message':a0_0xf63d('0x42'),'type':a0_0xf63d('0x16'),'choices':getWidgetIdList()}])['then'](_0x5b1101=>{try{const _0x464edb=_0x5b1101['id'];const _0x2a0a90=a0_0xf63d('0x77')+_0x464edb+a0_0xf63d('0x69');if(fs[a0_0xf63d('0x28')](_0x2a0a90)){const _0x2bb216=a0_0xf63d('0x3c');let _0x472fee=fs[a0_0xf63d('0x10')](_0x2bb216)['toString']();const _0x1b7868=JSON['parse'](_0x472fee);_0x1b7868[a0_0xf63d('0x23')]=getNextVersion(_0x1b7868['version']);for(let _0x2f8348 of _0x1b7868[a0_0xf63d('0x19')]){_0x2f8348[a0_0xf63d('0x72')]=_0x2f8348[a0_0xf63d('0x22')]===_0x464edb;}_0x472fee=JSON[a0_0xf63d('0xb')](_0x1b7868,null,0x2);fs['writeFileSync'](_0x2bb216,_0x472fee);let _0x2bb87f=fs['readFileSync'](_0x2a0a90)[a0_0xf63d('0x6b')]();const _0x3a822a=JSON['parse'](_0x2bb87f);_0x3a822a[a0_0xf63d('0x23')]=getNextVersion(_0x3a822a['version']);_0x2bb87f=JSON[a0_0xf63d('0xb')](_0x3a822a,null,0x2);fs['writeFileSync'](_0x2a0a90,_0x2bb87f);startProxyServer(dcServerAddress,function(){const _0xba1f83=child_process[a0_0xf63d('0x74')](a0_0xf63d('0x4d'),[a0_0xf63d('0x66'),'start-widget',a0_0xf63d('0x5c')+_0x464edb],{'shell':!![]});_0xba1f83[a0_0xf63d('0x39')]['on'](a0_0xf63d('0x7'),function(_0x1682ab){console[a0_0xf63d('0x30')](_0x1682ab['toString']());});_0xba1f83['stderr']['on'](a0_0xf63d('0x7'),function(_0x489c96){console[a0_0xf63d('0x30')](_0x489c96[a0_0xf63d('0x6b')]());});});}else{console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')]('Widget:'+_0x464edb+a0_0xf63d('0x51')));}}catch(_0x37d6e7){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](_0x37d6e7));}});});program[a0_0xf63d('0x34')](a0_0xf63d('0x52'))['description'](a0_0xf63d('0x2a'))[a0_0xf63d('0x2b')](()=>{inquirer[a0_0xf63d('0xa')]([{'name':'id','message':a0_0xf63d('0x1a'),'type':'rawlist','choices':getWidgetIdList()}])['then'](_0xdb938=>{try{const _0x574f3f=_0xdb938['id'];const _0x2cd932='src/widgets/'+_0x574f3f+a0_0xf63d('0x69');if(fs[a0_0xf63d('0x28')](_0x2cd932)){child_process['execSync'](a0_0xf63d('0x65')+_0x574f3f,{'stdio':a0_0xf63d('0x43')});}else{console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](a0_0xf63d('0x62')+_0x574f3f+a0_0xf63d('0x51')));}}catch(_0x4ce522){console[a0_0xf63d('0x30')](symbols['error'],chalk['red'](_0x4ce522));}});});program[a0_0xf63d('0x34')](a0_0xf63d('0x5d'))['description'](a0_0xf63d('0x15'))[a0_0xf63d('0x2b')](()=>{inquirer[a0_0xf63d('0xa')]([{'name':'id','message':a0_0xf63d('0x3'),'type':a0_0xf63d('0x16'),'choices':getWidgetIdList()}])['then'](_0x28465a=>{try{const _0x4c5556=_0x28465a['id'];const _0x42e80e=a0_0xf63d('0x77')+_0x4c5556;const _0x19b2ab=_0x42e80e+'/manifest.json';const _0x580212=new Date()[a0_0xf63d('0x25')]()[a0_0xf63d('0x46')](/T/,'')['replace'](/\..+/,'')[a0_0xf63d('0x46')](/-/g,'')[a0_0xf63d('0x46')](/:/g,'');const _0x4b6696=''+_0x4c5556+_0x580212;const _0x1c8bdc=_0x4b6696+a0_0xf63d('0x36');if(fs[a0_0xf63d('0x28')](_0x19b2ab)){tar[a0_0xf63d('0x2')](_0x42e80e)['pipe'](fs['createWriteStream'](_0x1c8bdc));connectFtpServer(function(_0x130f60){const _0x4ca9e4=ora(a0_0xf63d('0x6c'));_0x4ca9e4[a0_0xf63d('0x18')]();const _0x42eadd=fs[a0_0xf63d('0x29')](_0x1c8bdc);const _0x46e673=fs[a0_0xf63d('0x6e')](_0x1c8bdc)['size'];_0x130f60[a0_0xf63d('0x49')](_0x42eadd,_0x1c8bdc,function(_0x360fdc){if(_0x360fdc){_0x4ca9e4[a0_0xf63d('0x5a')]();console['log'](symbols[a0_0xf63d('0x14')],chalk['red'](_0x360fdc));throw _0x360fdc;}_0x130f60['end']();_0x4ca9e4['succeed']('部件正在发布中...');console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x76')](a0_0xf63d('0x73')));console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x76')](a0_0xf63d('0x0')+_0x4b6696));});let _0x577ac5=0x0;_0x42eadd['on']('data',function(_0x13df1e){_0x577ac5+=_0x13df1e[a0_0xf63d('0x78')];_0x4ca9e4[a0_0xf63d('0x1d')]=a0_0xf63d('0x4e')+((_0x577ac5/_0x46e673*0x64)[a0_0xf63d('0x4c')](0x2)+'%');});});}else{console['log'](symbols[a0_0xf63d('0x14')],chalk['red'](a0_0xf63d('0x62')+_0x4c5556+'不存在'));}}catch(_0x860de3){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](_0x860de3));}});});program[a0_0xf63d('0x27')](process[a0_0xf63d('0x4')]);function createWidget(_0x181a79,_0x40598a,_0x5ed6eb,_0x13de5c){if(!_0x181a79||!_0x40598a||!_0x5ed6eb){console[a0_0xf63d('0x30')](symbols['error'],chalk[a0_0xf63d('0x1b')](a0_0xf63d('0x1e')));return![];}console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x76')](a0_0xf63d('0x1')+_0x181a79+a0_0xf63d('0x50')));try{const _0x52e989=a0_0xf63d('0x77')+_0x181a79;const _0x2a5846=a0_0xf63d('0x26');if(!fs[a0_0xf63d('0x28')](_0x2a5846)){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')]('Widget模板文件夹不存在'));return![];}if(fs[a0_0xf63d('0x28')](_0x52e989)){console[a0_0xf63d('0x30')](symbols['error'],chalk[a0_0xf63d('0x1b')](a0_0xf63d('0x62')+_0x181a79+a0_0xf63d('0x58')));return![];}copydir[a0_0xf63d('0x44')](_0x2a5846,_0x52e989);const _0x2921d0=_0x52e989+a0_0xf63d('0x69');let _0x8742df=fs[a0_0xf63d('0x10')](_0x2921d0)[a0_0xf63d('0x6b')]();const _0x2093fa=JSON['parse'](_0x8742df);_0x2093fa['id']=_0x181a79;_0x2093fa[a0_0xf63d('0x6a')]=_0x40598a;_0x2093fa['description']=_0x5ed6eb;_0x2093fa[a0_0xf63d('0x2d')]=_0x13de5c;_0x8742df=JSON[a0_0xf63d('0xb')](_0x2093fa,null,0x2);fs[a0_0xf63d('0x79')](_0x2921d0,_0x8742df);const _0x1d86df=a0_0xf63d('0x3c');let _0xf11987=fs[a0_0xf63d('0x10')](_0x1d86df)[a0_0xf63d('0x6b')]();const _0x540bf0=JSON[a0_0xf63d('0x27')](_0xf11987);_0x540bf0[a0_0xf63d('0x23')]=getNextVersion(_0x540bf0['version']);for(let _0x5f0c64 of _0x540bf0['widgets']){_0x5f0c64[a0_0xf63d('0x72')]=![];}_0x540bf0[a0_0xf63d('0x19')][a0_0xf63d('0x13')]({'group':'测试','tag':'Test','path':_0x181a79,'enable':!![]});_0xf11987=JSON[a0_0xf63d('0xb')](_0x540bf0,null,0x2);fs[a0_0xf63d('0x79')](_0x1d86df,_0xf11987);console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x76')](a0_0xf63d('0xf')+_0x181a79+a0_0xf63d('0x50')));}catch(_0x410bc1){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk['red'](_0x410bc1));}return!![];}function getNextVersion(_0x143567){if(_0x143567){const _0x529f74=_0x143567[a0_0xf63d('0x3d')](/(.*\.)(\d+)$/);if(_0x529f74&&_0x529f74[0x1]&&_0x529f74[0x2]){return''+_0x529f74[0x1]+(parseInt(_0x529f74[0x2])+0x1);}}return _0x143567;}function getWidgetIdList(){const _0x1514c4=[];try{const _0x337174=a0_0xf63d('0x3c');if(fs[a0_0xf63d('0x28')](_0x337174)){const _0x51ece7=fs[a0_0xf63d('0x10')](_0x337174)['toString']();const _0x2b714b=JSON[a0_0xf63d('0x27')](_0x51ece7);for(let _0x1e25b5 of _0x2b714b['widgets']){try{const _0x4b32e0=a0_0xf63d('0x77')+_0x1e25b5['path'];const _0x2ca468=_0x4b32e0+a0_0xf63d('0x69');if(fs[a0_0xf63d('0x28')](_0x2ca468)){let _0x162155=fs[a0_0xf63d('0x10')](_0x2ca468)[a0_0xf63d('0x6b')]();const _0x399ade=JSON[a0_0xf63d('0x27')](_0x162155);_0x1514c4[a0_0xf63d('0x13')]({'value':_0x399ade['id'],'name':a0_0xf63d('0x1c')+_0x399ade['id']+a0_0xf63d('0x41')+_0x399ade[a0_0xf63d('0x6a')]+a0_0xf63d('0x6')+_0x399ade[a0_0xf63d('0x23')]});}}catch(_0x33d4ef){console[a0_0xf63d('0x30')](symbols['error'],chalk[a0_0xf63d('0x1b')](_0x1e25b5[a0_0xf63d('0x22')]+'读取失败'));console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](_0x33d4ef));}}}}catch(_0x488bdd){console['log'](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](a0_0xf63d('0xc')));console['log'](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](_0x488bdd));}return _0x1514c4;}function startProxyServer(_0x452c6a,_0x5616e2){console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0xe')]('正在启动代理服务...'));var _0x514dda=express();_0x514dda[a0_0xf63d('0x5b')]('/',proxy({'target':_0x452c6a,'changeOrigin':!![],'pathRewrite':{'/core/widgets':a0_0xf63d('0x9')},'router':{'/core/widgets':widgetDebugUrl}}));_0x514dda['listen'](proxyServerPort,function(){console['log'](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0xe')](a0_0xf63d('0x5')));console['log'](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x3e')](a0_0xf63d('0x54')));console['log'](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x3e')](a0_0xf63d('0x38')));console['log'](symbols[a0_0xf63d('0x47')],chalk[a0_0xf63d('0x3e')]('Linux:\x20/opt/google/chrome/chrome\x20--disable-web-security\x20--user-data-dir=/tmp/chrome_tmp'));console[a0_0xf63d('0x30')](symbols[a0_0xf63d('0x47')],chalk['green'](a0_0xf63d('0x1f')));if(_0x5616e2){_0x5616e2();}});}function connectFtpServer(_0x24cbe0){const _0x38798f=new Client();const _0x341694=ora(a0_0xf63d('0x56'));_0x341694['start']();_0x38798f['on']('ready',function(){_0x341694[a0_0xf63d('0x64')]();console[a0_0xf63d('0x30')](symbols['info'],chalk[a0_0xf63d('0x76')](a0_0xf63d('0x12')));if(_0x24cbe0){_0x24cbe0(_0x38798f);}});_0x38798f['on']('error',function(_0x56d860){_0x341694[a0_0xf63d('0x5a')]();console['log'](symbols[a0_0xf63d('0x14')],chalk[a0_0xf63d('0x1b')](_0x56d860));});_0x38798f['connect']({'host':ftpServerAddress,'user':ftpServerUserName,'password':ftpServerPassword});}