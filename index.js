#!/usr/bin/env node

const a0_0x4db6=['LnRhcg==','6YOo5Lu25q2j5Zyo5Y+R5biD5LitLi4u','5YiX5Ye65omA5pyJV2lkZ2V0','cGFjaw==','ZW5k','5p6E5bu65LiA5LiqV2lkZ2V0','6K+36L6T5YWlV2lkZ2V055qE5ZCN56ew77yM6KaB5rGC566A55+t55qE5Lit5paH5ZCN56ew5a6a5LmJ','cmVhZHk=','T1NYOiBvcGVuIC1uIC1hIC9BcHBsaWNhdGlvbnMvR29vZ2xlIENocm9tZS5hcHAvQ29udGVudHMvTWFjT1MvR29vZ2xlIENocm9tZSAtLWFyZ3MgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9Ii90bXAvY2hyb21lX3RtcCI=','5byA5aeL5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','d3JpdGVGaWxlU3luYw==','cmVwbGFjZQ==','5ZG95Luk6KGM5ZCv5Yqo5rWP6KeI5Zmo56S65L6L77ya','d2lkZ2V0cw==','ZnRw','6YOo5Lu25bey5oiQ5Yqf5Y+R5biDLi4u','dXNl','aW5oZXJpdA==','LOeJiOacrDo=','VGVzdA==','aW5mbw==','RnJlZXplU291bC9EYXRhQ29sb3VyV2lkZ2V0VGVtcGxhdGUjbWFzdGVy','6K+36YCJ5oup6KaB6LCD6K+V55qEV2lkZ2V0','5pyN5Yqh5Zmo6L+e5o6l5bey5bu656uLLi4u','L21hbmlmZXN0Lmpzb24=','6LCD6K+V5LiA5LiqV2lkZ2V0','bG9nLXN5bWJvbHM=','cHVzaA==','Ymx1ZQ==','5a6M5oiQ5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','c3Rkb3V0','5Luj55CG5pyN5Yqh5Zmo5bey5ZCv5YqoLi4u','V2lkZ2V05qih5p2/5paH5Lu25aS55LiN5a2Y5Zyo','5q2j5Zyo5LiL6L29V2lkZ2V05qih5p2/Li4u','5Yid5aeL5YyWV2lkZ2V06aG555uu','6K+36L6T5YWl5L2c6ICF5ZCN56ew77yM5aaC77yaRnJlZXplU291bDxmcmVlemVzb3VsQGdtYWlsLmNvbT4=','aGFuZGxlYmFycw==','L3dpZGdldHM=','c3RhdFN5bmM=','ZXhpc3RzU3luYw==','cmVhZEZpbGVTeW5j','c3RyaW5naWZ5','c3RhcnQ=','ZXJyb3I=','V2lkZ2V05Yib5bu65oiQ5Yqf','5q2j5Zyo5ZCv5Yqo5Luj55CG5pyN5YqhLi4u','c3RhcnQtd2lkZ2V0','cGFyc2U=','dG9JU09TdHJpbmc=','5qCH6K+GOg==','Y29ubmVjdA==','cGlwZQ==','YXV0aG9y','V2lkZ2V0Og==','b3Jh','6K+35o+Q5L6b5a6M5pW055qEV2lkZ2V05L+h5oGv','aHR0cC1wcm94eS1taWRkbGV3YXJl','ZXhlY1N5bmM=','aHR0cDovLzEyNy4wLjAuMTo4MDg4Lw==','c3VjY2VlZA==','cHV0','cHJvbXB0','c2l6ZQ==','c3JjL3dpZGdldHMvd2lkZ2V0cy5qc29u','cmVk','aW5pdCA8bmFtZT4=','5bey5a2Y5Zyo','5Yib5bu65LiA5LiqV2lkZ2V0','Z3JlZW4=','ZGVzY3JpcHRpb24=','ZnRwLmRhdGFjb2xvdXIuY24=','5LiN5a2Y5Zyo','bmFtZQ==','d2lkZ2V0cy5qc29u6K+75Y+W5aSx6LSl','V2luZG93OiAiQzpQcm9ncmFtIEZpbGVzICh4ODYpR29vZ2xlQ2hyb21lQXBwbGljYXRpb25jaHJvbWUuZXhlIiAtLWRpc2FibGUtd2ViLXNlY3VyaXR5IC0tdXNlci1kYXRhLWRpcj1+L2Nocm9tZV90bXA=','Y2hhbGs=','LS0gLS1uYW1lPQ==','Li4u','6K+36L6T5YWlV2lkZ2V055qE5qCH6K+G77yM6KaB5rGC6Iux5paH44CB5pWw5a2X44CB5LiL5YiS57q/','aHR0cDovLzEwMy4yNTQuNzAuMjExOjE4MDgw','cGF0aA==','bnBtIHJ1biBidWlsZC13aWRnZXQ6cHJvIC0tIC0tbmFtZT0=','dGFyLWZz','dGhlbg==','LOWQjeensDo=','cnVu','cHVibGlzaA==','Y29tbWFuZA==','cmVzb2x2ZQ==','c3JjL3dpZGdldHMv','cmF3bGlzdA==','LXYsIC0tdmVyc2lvbg==','ZGF0YQ==','bGlzdA==','5Yid5aeL5YyW5LiA5LiqV2lkZ2V0','dmVyc2lvbg==','bG9n','d2hpdGU=','ZmFpbA==','bnBtIGluc3RhbGw=','6K+36YCJ5oup6KaB5Y+R5biD55qEV2lkZ2V0','Y29weS1kaXI=','c3VjY2Vzcw==','5q2j5Zyo5Yib5bu6V2lkZ2V0Og==','Y3JlYXRlUmVhZFN0cmVhbQ==','dG9TdHJpbmc=','aW5xdWlyZXI=','bWF0Y2g=','5b2T5YmNV2lkZ2V054mI5pys5Y+377ya','YWN0aW9u','c3luYw==','cGFja2FnZS5qc29u','dG9GaXhlZA==','c3JjL3dpZGdldHMvd2lkZ2V0'];(function(_0x2ed48e,_0x8b6f3e){const _0x12b84a=function(_0x3d015b){while(--_0x3d015b){_0x2ed48e['push'](_0x2ed48e['shift']());}};_0x12b84a(++_0x8b6f3e);}(a0_0x4db6,0x1ed));const a0_0x4011=function(_0x2ed48e,_0x8b6f3e){_0x2ed48e=_0x2ed48e-0x0;let _0x12b84a=a0_0x4db6[_0x2ed48e];if(a0_0x4011['rFRWEa']===undefined){(function(){let _0x5a193;try{const _0x4f4c84=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x5a193=_0x4f4c84();}catch(_0x5647cd){_0x5a193=window;}const _0x14a137='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5a193['atob']||(_0x5a193['atob']=function(_0x4e7357){const _0x3c0538=String(_0x4e7357)['replace'](/=+$/,'');let _0x1a34b6='';for(let _0x1b85a5=0x0,_0x266cd0,_0x5cda5c,_0x5b7efe=0x0;_0x5cda5c=_0x3c0538['charAt'](_0x5b7efe++);~_0x5cda5c&&(_0x266cd0=_0x1b85a5%0x4?_0x266cd0*0x40+_0x5cda5c:_0x5cda5c,_0x1b85a5++%0x4)?_0x1a34b6+=String['fromCharCode'](0xff&_0x266cd0>>(-0x2*_0x1b85a5&0x6)):0x0){_0x5cda5c=_0x14a137['indexOf'](_0x5cda5c);}return _0x1a34b6;});}());a0_0x4011['KjMNzM']=function(_0x266aa2){const _0x450fe3=atob(_0x266aa2);let _0x36dd96=[];for(let _0x78552f=0x0,_0x588ab3=_0x450fe3['length'];_0x78552f<_0x588ab3;_0x78552f++){_0x36dd96+='%'+('00'+_0x450fe3['charCodeAt'](_0x78552f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x36dd96);};a0_0x4011['WSSyQX']={};a0_0x4011['rFRWEa']=!![];}const _0x3d015b=a0_0x4011['WSSyQX'][_0x2ed48e];if(_0x3d015b===undefined){_0x12b84a=a0_0x4011['KjMNzM'](_0x12b84a);a0_0x4011['WSSyQX'][_0x2ed48e]=_0x12b84a;}else{_0x12b84a=_0x3d015b;}return _0x12b84a;};const fs=require('fs');const path=require(a0_0x4011('0x2b'));const ora=require(a0_0x4011('0x11'));const tar=require(a0_0x4011('0x2d'));const Client=require(a0_0x4011('0x5b'));const chalk=require(a0_0x4011('0x26'));const express=require('express');const copydir=require(a0_0x4011('0x40'));const program=require('commander');const inquirer=require(a0_0x4011('0x45'));const symbols=require(a0_0x4011('0x67'));const handlebars=require(a0_0x4011('0x71'));const proxy=require(a0_0x4011('0x13'));const download=require('download-git-repo');const child_process=require('child_process');const githublink=a0_0x4011('0x62');const dcServerAddress=a0_0x4011('0x2a');const widgetDebugUrl=a0_0x4011('0x15');const ftpServerAddress=a0_0x4011('0x21');const ftpServerUserName='datacolour';const ftpServerPassword='datacolour';const proxyServerPort=0x270f;try{const packagePath=path[a0_0x4011('0x33')](__dirname,a0_0x4011('0x4a'));if(fs[a0_0x4011('0x2')](packagePath)){const pjson=require(packagePath);const version=pjson[a0_0x4011('0x3a')];program[a0_0x4011('0x3a')](version,a0_0x4011('0x36'));}}catch(a0_0x57275c){}program[a0_0x4011('0x32')](a0_0x4011('0x1c'))[a0_0x4011('0x20')](a0_0x4011('0x6f'))[a0_0x4011('0x48')](_0x4f4adb=>{if(!fs[a0_0x4011('0x2')](_0x4f4adb)){console['log'](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x3c')](a0_0x4011('0x6f')));const _0x2d1d47=ora(a0_0x4011('0x6e'));_0x2d1d47[a0_0x4011('0x5')]();download(githublink,_0x4f4adb,{'clone':![]},_0x3a0e37=>{if(_0x3a0e37){_0x2d1d47[a0_0x4011('0x3d')]();console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](_0x3a0e37));}else{_0x2d1d47[a0_0x4011('0x16')]();process['chdir'](_0x4f4adb);console['log'](symbols['info'],chalk[a0_0x4011('0x3c')](a0_0x4011('0x56')));child_process[a0_0x4011('0x14')](a0_0x4011('0x3e'),{'stdio':a0_0x4011('0x5e')});console[a0_0x4011('0x3b')](symbols['info'],chalk['white'](a0_0x4011('0x6a')));console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk['white'](a0_0x4011('0x39')));inquirer[a0_0x4011('0x18')]([{'name':'id','message':'请输入Widget的标识，要求英文、数字、下划线'},{'name':a0_0x4011('0x23'),'message':a0_0x4011('0x53')},{'name':a0_0x4011('0x20'),'message':'请输入Widget的描述，要求简短的中文描述信息'},{'name':a0_0x4011('0xf'),'message':a0_0x4011('0x70')}])['then'](_0x547621=>{try{const _0x5996e3=_0x547621['id'];const _0x4313d5=_0x547621[a0_0x4011('0x23')];const _0x288e42=_0x547621[a0_0x4011('0x20')];const _0x4692cd=_0x547621[a0_0x4011('0xf')];const _0x454ae7=createWidget(_0x5996e3,_0x4313d5,_0x288e42,_0x4692cd);if(_0x454ae7){console['log'](symbols[a0_0x4011('0x41')],chalk[a0_0x4011('0x1f')]('项目初始化完成'));}}catch(_0xfa5b92){console[a0_0x4011('0x3b')](symbols['error'],chalk[a0_0x4011('0x1b')](_0xfa5b92));}});}});}else{console['log'](symbols['error'],chalk[a0_0x4011('0x1b')]('项目'+_0x4f4adb+a0_0x4011('0x1d')));}});program[a0_0x4011('0x32')](a0_0x4011('0x38'))['description'](a0_0x4011('0x4f'))[a0_0x4011('0x48')](()=>{try{const _0x227293=a0_0x4011('0x1a');if(fs[a0_0x4011('0x2')](_0x227293)){const _0xe8c33=fs[a0_0x4011('0x3')](_0x227293)['toString']();const _0x372ae7=JSON['parse'](_0xe8c33);for(let _0xf8604d of _0x372ae7[a0_0x4011('0x5a')]){const _0x58c97c=a0_0x4011('0x34')+_0xf8604d[a0_0x4011('0x2b')];const _0x50d4d3=_0x58c97c+a0_0x4011('0x65');if(fs[a0_0x4011('0x2')](_0x50d4d3)){let _0x5085e0=fs[a0_0x4011('0x3')](_0x50d4d3)['toString']();const _0x33e7bd=JSON[a0_0x4011('0xa')](_0x5085e0);console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x3c')](a0_0x4011('0xc')+_0x33e7bd['id']+a0_0x4011('0x2f')+_0x33e7bd['name']+a0_0x4011('0x5f')+_0x33e7bd[a0_0x4011('0x3a')]));}}}}catch(_0x17239a){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](_0x17239a));}});program[a0_0x4011('0x32')]('create')[a0_0x4011('0x20')](a0_0x4011('0x1e'))[a0_0x4011('0x48')](()=>{inquirer['prompt']([{'name':'id','message':a0_0x4011('0x29')},{'name':'name','message':'请输入Widget的名称，要求简短的中文名称定义'},{'name':'description','message':'请输入Widget的描述，要求简短的中文描述信息'},{'name':a0_0x4011('0xf'),'message':a0_0x4011('0x70')}])[a0_0x4011('0x2e')](_0x316928=>{try{const _0x2036bb=_0x316928['id'];const _0x53a469=_0x316928[a0_0x4011('0x23')];const _0x42131a=_0x316928[a0_0x4011('0x20')];const _0x351e61=_0x316928[a0_0x4011('0xf')];const _0x73c053='src/widgets/'+_0x2036bb;if(!fs[a0_0x4011('0x2')](_0x73c053)){const _0xd9d56=createWidget(_0x2036bb,_0x53a469,_0x42131a,_0x351e61);if(_0xd9d56){console[a0_0x4011('0x3b')](symbols['success'],chalk['green'](a0_0x4011('0x7')));}}else{console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')]('已经存在Widget:'+_0x2036bb));}}catch(_0x3988eb){console['log'](symbols[a0_0x4011('0x6')],chalk['red'](_0x3988eb));}});});program[a0_0x4011('0x32')]('debug')[a0_0x4011('0x20')](a0_0x4011('0x66'))[a0_0x4011('0x48')](()=>{inquirer[a0_0x4011('0x18')]([{'name':'id','message':a0_0x4011('0x63'),'type':'rawlist','choices':getWidgetIdList()}])['then'](_0x53275d=>{try{const _0x2d3633=_0x53275d['id'];const _0x1379ab=a0_0x4011('0x34')+_0x2d3633+a0_0x4011('0x65');if(fs[a0_0x4011('0x2')](_0x1379ab)){const _0x30dc36=a0_0x4011('0x1a');let _0x2108c3=fs['readFileSync'](_0x30dc36)[a0_0x4011('0x44')]();const _0x36ee47=JSON[a0_0x4011('0xa')](_0x2108c3);_0x36ee47[a0_0x4011('0x3a')]=getNextVersion(_0x36ee47[a0_0x4011('0x3a')]);for(let _0x2842f0 of _0x36ee47[a0_0x4011('0x5a')]){_0x2842f0['enable']=_0x2842f0[a0_0x4011('0x2b')]===_0x2d3633;}_0x2108c3=JSON['stringify'](_0x36ee47,null,0x2);fs[a0_0x4011('0x57')](_0x30dc36,_0x2108c3);let _0xd8be19=fs[a0_0x4011('0x3')](_0x1379ab)[a0_0x4011('0x44')]();const _0x402281=JSON['parse'](_0xd8be19);_0x402281[a0_0x4011('0x3a')]=getNextVersion(_0x402281[a0_0x4011('0x3a')]);_0xd8be19=JSON[a0_0x4011('0x4')](_0x402281,null,0x2);fs['writeFileSync'](_0x1379ab,_0xd8be19);console['log'](symbols['info'],chalk[a0_0x4011('0x3c')](a0_0x4011('0x47')+_0x402281[a0_0x4011('0x3a')]));startProxyServer(dcServerAddress,function(){const _0x271cf0=child_process['spawn']('npm',[a0_0x4011('0x30'),a0_0x4011('0x9'),a0_0x4011('0x27')+_0x2d3633],{'shell':!![]});_0x271cf0[a0_0x4011('0x6b')]['on'](a0_0x4011('0x37'),function(_0xf6ece4){console[a0_0x4011('0x3b')](_0xf6ece4[a0_0x4011('0x44')]());});_0x271cf0['stderr']['on']('data',function(_0x339743){console[a0_0x4011('0x3b')](_0x339743['toString']());});});}else{console[a0_0x4011('0x3b')](symbols['error'],chalk[a0_0x4011('0x1b')](a0_0x4011('0x10')+_0x2d3633+a0_0x4011('0x22')));}}catch(_0x183127){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk['red'](_0x183127));}});});program['command']('build')[a0_0x4011('0x20')](a0_0x4011('0x52'))[a0_0x4011('0x48')](()=>{inquirer[a0_0x4011('0x18')]([{'name':'id','message':'请选择要构建的Widget','type':a0_0x4011('0x35'),'choices':getWidgetIdList()}])[a0_0x4011('0x2e')](_0x442965=>{try{const _0x4fa8d8=_0x442965['id'];const _0xa288f6='src/widgets/'+_0x4fa8d8+a0_0x4011('0x65');if(fs[a0_0x4011('0x2')](_0xa288f6)){let _0x239269=fs['readFileSync'](_0xa288f6)['toString']();const _0x383d0f=JSON[a0_0x4011('0xa')](_0x239269);_0x383d0f[a0_0x4011('0x3a')]=getNextVersion(_0x383d0f[a0_0x4011('0x3a')]);_0x239269=JSON[a0_0x4011('0x4')](_0x383d0f,null,0x2);fs[a0_0x4011('0x57')](_0xa288f6,_0x239269);console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk['white'](a0_0x4011('0x47')+_0x383d0f[a0_0x4011('0x3a')]));child_process['execSync'](a0_0x4011('0x2c')+_0x4fa8d8,{'stdio':'inherit'});}else{console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](a0_0x4011('0x10')+_0x4fa8d8+a0_0x4011('0x22')));}}catch(_0x956cde){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk['red'](_0x956cde));}});});program[a0_0x4011('0x32')](a0_0x4011('0x31'))[a0_0x4011('0x20')]('发布一个Widget')[a0_0x4011('0x48')](()=>{inquirer[a0_0x4011('0x18')]([{'name':'id','message':a0_0x4011('0x3f'),'type':a0_0x4011('0x35'),'choices':getWidgetIdList()}])[a0_0x4011('0x2e')](_0xd6f720=>{try{const _0x3bfb48=_0xd6f720['id'];const _0x26c480='src/widgets/'+_0x3bfb48;const _0x5a5eb2=_0x26c480+a0_0x4011('0x65');const _0x13ee97=new Date()[a0_0x4011('0xb')]()[a0_0x4011('0x58')](/T/,'')[a0_0x4011('0x58')](/\..+/,'')[a0_0x4011('0x58')](/-/g,'')['replace'](/:/g,'');const _0x40e81f=''+_0x3bfb48+_0x13ee97;const _0x21461b=_0x40e81f+a0_0x4011('0x4d');if(fs[a0_0x4011('0x2')](_0x5a5eb2)){tar[a0_0x4011('0x50')](_0x26c480)[a0_0x4011('0xe')](fs['createWriteStream'](_0x21461b));connectFtpServer(function(_0x221bde){const _0x5d555e=ora(a0_0x4011('0x4e'));_0x5d555e[a0_0x4011('0x5')]();const _0xaf7ef0=fs[a0_0x4011('0x43')](_0x21461b);const _0x29f831=fs[a0_0x4011('0x1')](_0x21461b)[a0_0x4011('0x19')];_0x221bde[a0_0x4011('0x17')](_0xaf7ef0,_0x21461b,function(_0x2b6835){if(_0x2b6835){_0x5d555e[a0_0x4011('0x3d')]();console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk['red'](_0x2b6835));throw _0x2b6835;}_0x221bde[a0_0x4011('0x51')]();_0x5d555e[a0_0x4011('0x16')](a0_0x4011('0x4e'));console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x41')],chalk[a0_0x4011('0x3c')](a0_0x4011('0x5c')));console['log'](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x3c')]('请反馈发布序号:'+_0x40e81f));});let _0x249c63=0x0;_0xaf7ef0['on'](a0_0x4011('0x37'),function(_0x4ff027){_0x249c63+=_0x4ff027['length'];_0x5d555e['text']='部件正在发布中...\x09'+((_0x249c63/_0x29f831*0x64)[a0_0x4011('0x4b')](0x2)+'%');});});}else{console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](a0_0x4011('0x10')+_0x3bfb48+a0_0x4011('0x22')));}}catch(_0x3abe77){console['log'](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](_0x3abe77));}});});program[a0_0x4011('0xa')](process['argv']);function createWidget(_0x55e336,_0x4a9b94,_0x310b1a,_0x37186b){if(!_0x55e336||!_0x4a9b94||!_0x310b1a){console['log'](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](a0_0x4011('0x12')));return![];}console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x3c')](a0_0x4011('0x42')+_0x55e336+a0_0x4011('0x28')));try{const _0x10e81d='src/widgets/'+_0x55e336;const _0x275106=a0_0x4011('0x4c');if(!fs[a0_0x4011('0x2')](_0x275106)){console[a0_0x4011('0x3b')](symbols['error'],chalk[a0_0x4011('0x1b')](a0_0x4011('0x6d')));return![];}if(fs[a0_0x4011('0x2')](_0x10e81d)){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](a0_0x4011('0x10')+_0x55e336+'已存在'));return![];}copydir[a0_0x4011('0x49')](_0x275106,_0x10e81d);const _0x48ce0d=_0x10e81d+'/manifest.json';let _0x346688=fs[a0_0x4011('0x3')](_0x48ce0d)['toString']();const _0x5824e9=JSON[a0_0x4011('0xa')](_0x346688);_0x5824e9['id']=_0x55e336;_0x5824e9[a0_0x4011('0x23')]=_0x4a9b94;_0x5824e9[a0_0x4011('0x20')]=_0x310b1a;_0x5824e9['author']=_0x37186b;_0x346688=JSON[a0_0x4011('0x4')](_0x5824e9,null,0x2);fs[a0_0x4011('0x57')](_0x48ce0d,_0x346688);const _0x215029=a0_0x4011('0x1a');let _0xf526b=fs['readFileSync'](_0x215029)['toString']();const _0x33668f=JSON[a0_0x4011('0xa')](_0xf526b);_0x33668f['version']=getNextVersion(_0x33668f[a0_0x4011('0x3a')]);for(let _0x48b8fe of _0x33668f[a0_0x4011('0x5a')]){_0x48b8fe['enable']=![];}_0x33668f[a0_0x4011('0x5a')][a0_0x4011('0x68')]({'group':'测试','tag':a0_0x4011('0x60'),'path':_0x55e336,'enable':!![]});_0xf526b=JSON['stringify'](_0x33668f,null,0x2);fs[a0_0x4011('0x57')](_0x215029,_0xf526b);console['log'](symbols['info'],chalk[a0_0x4011('0x3c')]('完成创建Widget:'+_0x55e336+a0_0x4011('0x28')));}catch(_0x390761){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](_0x390761));}return!![];}function getNextVersion(_0x18fe2b){if(_0x18fe2b){const _0x5573c6=_0x18fe2b[a0_0x4011('0x46')](/(.*\.)(\d+)$/);if(_0x5573c6&&_0x5573c6[0x1]&&_0x5573c6[0x2]){return''+_0x5573c6[0x1]+(parseInt(_0x5573c6[0x2])+0x1);}}return _0x18fe2b;}function getWidgetIdList(){const _0xb6cbbc=[];try{const _0x4977b4=a0_0x4011('0x1a');if(fs[a0_0x4011('0x2')](_0x4977b4)){const _0x1fbf6f=fs[a0_0x4011('0x3')](_0x4977b4)['toString']();const _0x4b46d5=JSON[a0_0x4011('0xa')](_0x1fbf6f);for(let _0x2e2ca6 of _0x4b46d5[a0_0x4011('0x5a')]){try{const _0x360888='src/widgets/'+_0x2e2ca6[a0_0x4011('0x2b')];const _0x2d6bc3=_0x360888+a0_0x4011('0x65');if(fs[a0_0x4011('0x2')](_0x2d6bc3)){let _0x54c274=fs[a0_0x4011('0x3')](_0x2d6bc3)[a0_0x4011('0x44')]();const _0x346000=JSON[a0_0x4011('0xa')](_0x54c274);_0xb6cbbc['push']({'value':_0x346000['id'],'name':a0_0x4011('0xc')+_0x346000['id']+a0_0x4011('0x2f')+_0x346000[a0_0x4011('0x23')]+a0_0x4011('0x5f')+_0x346000[a0_0x4011('0x3a')]});}}catch(_0x35bc39){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](_0x2e2ca6[a0_0x4011('0x2b')]+'读取失败'));console['log'](symbols['error'],chalk[a0_0x4011('0x1b')](_0x35bc39));}}}}catch(_0x4db62e){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](a0_0x4011('0x24')));console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk['red'](_0x4db62e));}return _0xb6cbbc;}function startProxyServer(_0x4ebb8f,_0x22ba2b){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x69')](a0_0x4011('0x8')));var _0x223673=express();_0x223673[a0_0x4011('0x5d')]('/',proxy({'target':_0x4ebb8f,'changeOrigin':!![],'pathRewrite':{'/core/widgets':a0_0x4011('0x0')},'router':{'/core/widgets':widgetDebugUrl}}));_0x223673['listen'](proxyServerPort,function(){console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x69')](a0_0x4011('0x6c')));console['log'](symbols['info'],chalk[a0_0x4011('0x1f')](a0_0x4011('0x59')));console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk['green'](a0_0x4011('0x25')));console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x1f')]('Linux:\x20/opt/google/chrome/chrome\x20--disable-web-security\x20--user-data-dir=/tmp/chrome_tmp'));console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x1f')](a0_0x4011('0x55')));if(_0x22ba2b){_0x22ba2b();}});}function connectFtpServer(_0x34a5df){const _0x390aee=new Client();const _0x10bf01=ora('开始建立服务器连接...');_0x10bf01[a0_0x4011('0x5')]();_0x390aee['on'](a0_0x4011('0x54'),function(){_0x10bf01[a0_0x4011('0x16')]();console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x61')],chalk[a0_0x4011('0x3c')](a0_0x4011('0x64')));if(_0x34a5df){_0x34a5df(_0x390aee);}});_0x390aee['on'](a0_0x4011('0x6'),function(_0x1a5d87){_0x10bf01[a0_0x4011('0x3d')]();console[a0_0x4011('0x3b')](symbols[a0_0x4011('0x6')],chalk[a0_0x4011('0x1b')](_0x1a5d87));});_0x390aee[a0_0x4011('0xd')]({'host':ftpServerAddress,'user':ftpServerUserName,'password':ftpServerPassword});}