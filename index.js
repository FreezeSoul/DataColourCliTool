#!/usr/bin/env node

const a0_0x58f0=['Y2hkaXI=','ZW5k','LnRhcg==','cmVzb2x2ZQ==','5qCH6K+GOg==','cGlwZQ==','V2lkZ2V0Og==','cGFja2FnZS5qc29u','cmF3bGlzdA==','VGVzdA==','L3dpZGdldHM=','dG9JU09TdHJpbmc=','6LCD6K+V5LiA5LiqV2lkZ2V0','b3Jh','cGFjaw==','Y29weS1kaXI=','aW5xdWlyZXI=','Y2hpbGRfcHJvY2Vzcw==','TGludXg6IC9vcHQvZ29vZ2xlL2Nocm9tZS9jaHJvbWUgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9L3RtcC9jaHJvbWVfdG1w','5byA5aeL5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','c3JjL3dpZGdldHMv','6K+36YCJ5oup6KaB6LCD6K+V55qEV2lkZ2V0','5pyN5Yqh5Zmo6L+e5o6l5bey5bu656uLLi4u','ZmFpbA==','LOWQjeensDo=','c3RhcnQ=','cmVk','dGFyLWZz','cHJvbXB0','dG9GaXhlZA==','6K+35o+Q5L6b5a6M5pW055qEV2lkZ2V05L+h5oGv','dG9TdHJpbmc=','YWN0aW9u','ZXhwcmVzcw==','c3RhcnQtd2lkZ2V0','V2lkZ2V05Yib5bu65oiQ5Yqf','aW5oZXJpdA==','Ymx1ZQ==','Y29tbWFuZGVy','cmVwbGFjZQ==','c3VjY2Vzcw==','d3JpdGVGaWxlU3luYw==','6K+36YCJ5oup6KaB5p6E5bu655qEV2lkZ2V0','LOeJiOacrDo=','5a6M5oiQ5a6J6KOF5L6d6LWW6YOo5Lu2Li4u','dmVyc2lvbg==','6YOo5Lu25q2j5Zyo5Y+R5biD5LitLi4uCQ==','bnBtIHJ1biBidWlsZC13aWRnZXQ6cHJvIC0tIC0tbmFtZT0=','d2hpdGU=','c3Bhd24=','6K+36L6T5YWlV2lkZ2V055qE5qCH6K+G77yM6KaB5rGC6Iux5paH44CB5pWw5a2X44CB5LiL5YiS57q/','bnBt','YXV0aG9y','bG9n','RnJlZXplU291bC9EYXRhQ29sb3VyV2lkZ2V0VGVtcGxhdGUjbWFzdGVy','c3RyaW5naWZ5','Y29tbWFuZA==','5bey57uP5a2Y5ZyoV2lkZ2V0Og==','aW5mbw==','T1NYOiBvcGVuIC1uIC1hIC9BcHBsaWNhdGlvbnMvR29vZ2xlIENocm9tZS5hcHAvQ29udGVudHMvTWFjT1MvR29vZ2xlIENocm9tZSAtLWFyZ3MgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9Ii90bXAvY2hyb21lX3RtcCI=','6K+36L6T5YWlV2lkZ2V055qE5ZCN56ew77yM6KaB5rGC566A55+t55qE5Lit5paH5ZCN56ew5a6a5LmJ','MTczLjI0Mi4xMjAuMjUw','ZnRw','bmFtZQ==','aHR0cC1wcm94eS1taWRkbGV3YXJl','5q2j5Zyo5LiL6L29V2lkZ2V05qih5p2/Li4u','ZGF0YWNvbG91cg==','bWF0Y2g=','5byA5aeL5bu656uL5pyN5Yqh5Zmo6L+e5o6lLi4u','6K+36L6T5YWlV2lkZ2V055qE5o+P6L+w77yM6KaB5rGC566A55+t55qE5Lit5paH5o+P6L+w5L+h5oGv','dGhlbg==','5q2j5Zyo5ZCv5Yqo5Luj55CG5pyN5YqhLi4u','5LiN5a2Y5Zyo','6aG555uu5Yid5aeL5YyW5a6M5oiQ','YnVpbGQ=','c3VjY2VlZA==','5ZG95Luk6KGM5ZCv5Yqo5rWP6KeI5Zmo56S65L6L77ya','6K+36L6T5YWl5L2c6ICF5ZCN56ew77yM5aaC77yaRnJlZXplU291bDxmcmVlemVzb3VsQGdtYWlsLmNvbT4=','Y3JlYXRl','ZGVzY3JpcHRpb24=','6K+35Y+N6aaI5Y+R5biD5bqP5Y+3Og==','5bey5a2Y5Zyo','5Yid5aeL5YyW5LiA5LiqV2lkZ2V0','cmVhZHk=','cGF0aA==','L21hbmlmZXN0Lmpzb24=','Li4u','6YOo5Lu25q2j5Zyo5Y+R5biD5LitLi4u','Y29ubmVjdA==','aHR0cDovLzEyNy4wLjAuMTo4MDg4Lw==','YXJndg==','d2lkZ2V0cy5qc29u6K+75Y+W5aSx6LSl','ZGF0YQ==','5YiX5Ye65omA5pyJV2lkZ2V0','c3JjL3dpZGdldHMvd2lkZ2V0','6K+75Y+W5aSx6LSl','LXYsIC0tdmVyc2lvbg==','bGVuZ3Ro','6YOo5Lu25bey5oiQ5Yqf5Y+R5biDLi4u','ZXJyb3I=','5a6M5oiQ5Yib5bu6V2lkZ2V0Og==','5Luj55CG5pyN5Yqh5Zmo5bey5ZCv5YqoLi4u','c3Rkb3V0','d2lkZ2V0cw==','LS0gLS1uYW1lPQ==','V2lkZ2V05qih5p2/5paH5Lu25aS55LiN5a2Y5Zyo','ZXhpc3RzU3luYw==','ZW5hYmxl','cHV0','dXNl','cmVhZEZpbGVTeW5j','cHVzaA==','5Yid5aeL5YyWV2lkZ2V06aG555uu','Z3JlZW4=','c3JjL3dpZGdldHMvd2lkZ2V0cy5qc29u','5Yib5bu65LiA5LiqV2lkZ2V0','cGFyc2U='];(function(_0x94c2b3,_0xb31f19){const _0x42c17b=function(_0x1c2f4f){while(--_0x1c2f4f){_0x94c2b3['push'](_0x94c2b3['shift']());}};_0x42c17b(++_0xb31f19);}(a0_0x58f0,0x14f));const a0_0x43ec=function(_0x94c2b3,_0xb31f19){_0x94c2b3=_0x94c2b3-0x0;let _0x42c17b=a0_0x58f0[_0x94c2b3];if(a0_0x43ec['PHzJAZ']===undefined){(function(){const _0x2b66d5=function(){let _0x2946c0;try{_0x2946c0=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x278f59){_0x2946c0=window;}return _0x2946c0;};const _0x5b4cb7=_0x2b66d5();const _0x46efd0='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x5b4cb7['atob']||(_0x5b4cb7['atob']=function(_0x3af1a8){const _0x529be1=String(_0x3af1a8)['replace'](/=+$/,'');let _0x4dd563='';for(let _0x325265=0x0,_0x5cf72e,_0x20d6de,_0x406476=0x0;_0x20d6de=_0x529be1['charAt'](_0x406476++);~_0x20d6de&&(_0x5cf72e=_0x325265%0x4?_0x5cf72e*0x40+_0x20d6de:_0x20d6de,_0x325265++%0x4)?_0x4dd563+=String['fromCharCode'](0xff&_0x5cf72e>>(-0x2*_0x325265&0x6)):0x0){_0x20d6de=_0x46efd0['indexOf'](_0x20d6de);}return _0x4dd563;});}());a0_0x43ec['lZdUKw']=function(_0x4c5adb){const _0x8dfaea=atob(_0x4c5adb);let _0x4d51a7=[];for(let _0x587e59=0x0,_0x156856=_0x8dfaea['length'];_0x587e59<_0x156856;_0x587e59++){_0x4d51a7+='%'+('00'+_0x8dfaea['charCodeAt'](_0x587e59)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4d51a7);};a0_0x43ec['GyjTzP']={};a0_0x43ec['PHzJAZ']=!![];}const _0x1c2f4f=a0_0x43ec['GyjTzP'][_0x94c2b3];if(_0x1c2f4f===undefined){_0x42c17b=a0_0x43ec['lZdUKw'](_0x42c17b);a0_0x43ec['GyjTzP'][_0x94c2b3]=_0x42c17b;}else{_0x42c17b=_0x1c2f4f;}return _0x42c17b;};const fs=require('fs');const path=require(a0_0x43ec('0x64'));const ora=require(a0_0x43ec('0x1d'));const tar=require(a0_0x43ec('0x2b'));const Client=require(a0_0x43ec('0x4e'));const chalk=require('chalk');const express=require(a0_0x43ec('0x31'));const copydir=require(a0_0x43ec('0x1f'));const program=require(a0_0x43ec('0x36'));const inquirer=require(a0_0x43ec('0x20'));const symbols=require('log-symbols');const handlebars=require('handlebars');const proxy=require(a0_0x43ec('0x50'));const download=require('download-git-repo');const child_process=require(a0_0x43ec('0x21'));const githublink=a0_0x43ec('0x46');const dcServerAddress='http://103.254.70.211:18080';const widgetDebugUrl=a0_0x43ec('0x69');const ftpServerAddress=a0_0x43ec('0x4d');const ftpServerUserName='datacolour';const ftpServerPassword=a0_0x43ec('0x52');const proxyServerPort=0x270f;try{const packagePath=path[a0_0x43ec('0x13')](__dirname,a0_0x43ec('0x17'));if(fs[a0_0x43ec('0x5')](packagePath)){const pjson=require(packagePath);const version=pjson[a0_0x43ec('0x3d')];program[a0_0x43ec('0x3d')](version,a0_0x43ec('0x70'));}}catch(a0_0x38512e){}program[a0_0x43ec('0x48')]('init\x20<name>')['description'](a0_0x43ec('0xb'))[a0_0x43ec('0x30')](_0x5c9fee=>{if(!fs[a0_0x43ec('0x5')](_0x5c9fee)){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk[a0_0x43ec('0x40')](a0_0x43ec('0xb')));const _0x120077=ora(a0_0x43ec('0x51'));_0x120077['start']();download(githublink,_0x5c9fee,{'clone':![]},_0x5e4c9d=>{if(_0x5e4c9d){_0x120077[a0_0x43ec('0x27')]();console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x5e4c9d));}else{_0x120077[a0_0x43ec('0x5b')]();process[a0_0x43ec('0x10')](_0x5c9fee);console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk['white'](a0_0x43ec('0x23')));child_process['execSync']('npm\x20install',{'stdio':'inherit'});console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk[a0_0x43ec('0x40')](a0_0x43ec('0x3c')));console[a0_0x43ec('0x45')](symbols['info'],chalk[a0_0x43ec('0x40')](a0_0x43ec('0x62')));inquirer[a0_0x43ec('0x2c')]([{'name':'id','message':a0_0x43ec('0x42')},{'name':a0_0x43ec('0x4f'),'message':a0_0x43ec('0x4c')},{'name':'description','message':'请输入Widget的描述，要求简短的中文描述信息'},{'name':'author','message':a0_0x43ec('0x5d')}])[a0_0x43ec('0x56')](_0x1fdf1b=>{try{const _0x4960d3=_0x1fdf1b['id'];const _0x13ad82=_0x1fdf1b[a0_0x43ec('0x4f')];const _0x43a013=_0x1fdf1b[a0_0x43ec('0x5f')];const _0x10ed82=_0x1fdf1b[a0_0x43ec('0x44')];const _0x241f01=createWidget(_0x4960d3,_0x13ad82,_0x43a013,_0x10ed82);if(_0x241f01){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x38')],chalk[a0_0x43ec('0xc')](a0_0x43ec('0x59')));}}catch(_0x4c0cb0){console[a0_0x43ec('0x45')](symbols['error'],chalk[a0_0x43ec('0x2a')](_0x4c0cb0));}});}});}else{console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')]('项目'+_0x5c9fee+'已存在'));}});program[a0_0x43ec('0x48')]('list')[a0_0x43ec('0x5f')](a0_0x43ec('0x6d'))['action'](()=>{try{const _0x30d998='src/widgets/widgets.json';if(fs[a0_0x43ec('0x5')](_0x30d998)){const _0x29f27a=fs[a0_0x43ec('0x9')](_0x30d998)[a0_0x43ec('0x2f')]();const _0x6e64c5=JSON[a0_0x43ec('0xf')](_0x29f27a);for(let _0x5d8112 of _0x6e64c5[a0_0x43ec('0x2')]){const _0x52942d=a0_0x43ec('0x24')+_0x5d8112[a0_0x43ec('0x64')];const _0x56f489=_0x52942d+a0_0x43ec('0x65');if(fs[a0_0x43ec('0x5')](_0x56f489)){let _0x10d35a=fs[a0_0x43ec('0x9')](_0x56f489)[a0_0x43ec('0x2f')]();const _0x36d749=JSON[a0_0x43ec('0xf')](_0x10d35a);console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk['white'](a0_0x43ec('0x14')+_0x36d749['id']+a0_0x43ec('0x28')+_0x36d749[a0_0x43ec('0x4f')]+a0_0x43ec('0x3b')+_0x36d749['version']));}}}}catch(_0x302043){console['log'](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x302043));}});program['command'](a0_0x43ec('0x5e'))['description'](a0_0x43ec('0xe'))[a0_0x43ec('0x30')](()=>{inquirer[a0_0x43ec('0x2c')]([{'name':'id','message':'请输入Widget的标识，要求英文、数字、下划线'},{'name':'name','message':a0_0x43ec('0x4c')},{'name':a0_0x43ec('0x5f'),'message':a0_0x43ec('0x55')},{'name':a0_0x43ec('0x44'),'message':'请输入作者名称，如：FreezeSoul<freezesoul@gmail.com>'}])['then'](_0x51486f=>{try{const _0x2cc8e6=_0x51486f['id'];const _0x538d56=_0x51486f[a0_0x43ec('0x4f')];const _0x2f0071=_0x51486f[a0_0x43ec('0x5f')];const _0x5e0acf=_0x51486f[a0_0x43ec('0x44')];const _0x1a0f7e=a0_0x43ec('0x24')+_0x2cc8e6;if(!fs[a0_0x43ec('0x5')](_0x1a0f7e)){const _0x5033c2=createWidget(_0x2cc8e6,_0x538d56,_0x2f0071,_0x5e0acf);if(_0x5033c2){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x38')],chalk[a0_0x43ec('0xc')](a0_0x43ec('0x33')));}}else{console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](a0_0x43ec('0x49')+_0x2cc8e6));}}catch(_0x789dc4){console['log'](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x789dc4));}});});program[a0_0x43ec('0x48')]('debug')[a0_0x43ec('0x5f')](a0_0x43ec('0x1c'))[a0_0x43ec('0x30')](()=>{inquirer[a0_0x43ec('0x2c')]([{'name':'id','message':a0_0x43ec('0x25'),'type':'rawlist','choices':getWidgetIdList()}])[a0_0x43ec('0x56')](_0x577033=>{try{const _0x16c205=_0x577033['id'];const _0x2be440=a0_0x43ec('0x24')+_0x16c205+a0_0x43ec('0x65');if(fs[a0_0x43ec('0x5')](_0x2be440)){const _0xe068f2=a0_0x43ec('0xd');let _0x4a9fb0=fs[a0_0x43ec('0x9')](_0xe068f2)[a0_0x43ec('0x2f')]();const _0x1e565a=JSON[a0_0x43ec('0xf')](_0x4a9fb0);_0x1e565a[a0_0x43ec('0x3d')]=getNextVersion(_0x1e565a[a0_0x43ec('0x3d')]);for(let _0x5e6c22 of _0x1e565a[a0_0x43ec('0x2')]){_0x5e6c22[a0_0x43ec('0x6')]=_0x5e6c22['path']===_0x16c205;}_0x4a9fb0=JSON['stringify'](_0x1e565a,null,0x2);fs[a0_0x43ec('0x39')](_0xe068f2,_0x4a9fb0);let _0x277bd5=fs[a0_0x43ec('0x9')](_0x2be440)[a0_0x43ec('0x2f')]();const _0x29f83f=JSON[a0_0x43ec('0xf')](_0x277bd5);_0x29f83f[a0_0x43ec('0x3d')]=getNextVersion(_0x29f83f['version']);_0x277bd5=JSON['stringify'](_0x29f83f,null,0x2);fs[a0_0x43ec('0x39')](_0x2be440,_0x277bd5);startProxyServer(dcServerAddress,function(){const _0x16d0ed=child_process[a0_0x43ec('0x41')](a0_0x43ec('0x43'),['run',a0_0x43ec('0x32'),a0_0x43ec('0x3')+_0x16c205],{'shell':!![]});_0x16d0ed[a0_0x43ec('0x1')]['on'](a0_0x43ec('0x6c'),function(_0x11b0e7){console['log'](_0x11b0e7['toString']());});_0x16d0ed['stderr']['on']('data',function(_0x1fb049){console[a0_0x43ec('0x45')](_0x1fb049[a0_0x43ec('0x2f')]());});});}else{console['log'](symbols['error'],chalk[a0_0x43ec('0x2a')](a0_0x43ec('0x16')+_0x16c205+a0_0x43ec('0x58')));}}catch(_0x4f869a){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x4f869a));}});});program[a0_0x43ec('0x48')](a0_0x43ec('0x5a'))['description']('构建一个Widget')[a0_0x43ec('0x30')](()=>{inquirer[a0_0x43ec('0x2c')]([{'name':'id','message':a0_0x43ec('0x3a'),'type':a0_0x43ec('0x18'),'choices':getWidgetIdList()}])[a0_0x43ec('0x56')](_0xb42a6f=>{try{const _0x5772ca=_0xb42a6f['id'];const _0x49d2ea=a0_0x43ec('0x24')+_0x5772ca+'/manifest.json';if(fs[a0_0x43ec('0x5')](_0x49d2ea)){let _0x250f5b=fs['readFileSync'](_0x49d2ea)['toString']();const _0x23d033=JSON[a0_0x43ec('0xf')](_0x250f5b);_0x23d033[a0_0x43ec('0x3d')]=getNextVersion(_0x23d033[a0_0x43ec('0x3d')]);_0x250f5b=JSON[a0_0x43ec('0x47')](_0x23d033,null,0x2);fs[a0_0x43ec('0x39')](_0x49d2ea,_0x250f5b);child_process['execSync'](a0_0x43ec('0x3f')+_0x5772ca,{'stdio':a0_0x43ec('0x34')});}else{console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](a0_0x43ec('0x16')+_0x5772ca+'不存在'));}}catch(_0x3213c5){console['log'](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x3213c5));}});});program['command']('publish')['description']('发布一个Widget')[a0_0x43ec('0x30')](()=>{inquirer[a0_0x43ec('0x2c')]([{'name':'id','message':'请选择要发布的Widget','type':'rawlist','choices':getWidgetIdList()}])[a0_0x43ec('0x56')](_0x3c61fc=>{try{const _0x405200=_0x3c61fc['id'];const _0x41fc36=a0_0x43ec('0x24')+_0x405200;const _0x402868=_0x41fc36+a0_0x43ec('0x65');const _0x3f8cd0=new Date()[a0_0x43ec('0x1b')]()['replace'](/T/,'')[a0_0x43ec('0x37')](/\..+/,'')[a0_0x43ec('0x37')](/-/g,'')['replace'](/:/g,'');const _0x5c4617=''+_0x405200+_0x3f8cd0;const _0x2c91c3=_0x5c4617+a0_0x43ec('0x12');if(fs[a0_0x43ec('0x5')](_0x402868)){tar[a0_0x43ec('0x1e')](_0x41fc36)[a0_0x43ec('0x15')](fs['createWriteStream'](_0x2c91c3));connectFtpServer(function(_0xf878b5){const _0x6cbd46=ora(a0_0x43ec('0x67'));_0x6cbd46[a0_0x43ec('0x29')]();const _0x101b23=fs['createReadStream'](_0x2c91c3);const _0x527681=fs['statSync'](_0x2c91c3)['size'];_0xf878b5[a0_0x43ec('0x7')](_0x101b23,_0x2c91c3,function(_0x9df892){if(_0x9df892){_0x6cbd46[a0_0x43ec('0x27')]();console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk['red'](_0x9df892));throw _0x9df892;}_0xf878b5[a0_0x43ec('0x11')]();_0x6cbd46[a0_0x43ec('0x5b')]('部件正在发布中...');console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk[a0_0x43ec('0x40')](a0_0x43ec('0x72')));console['log'](symbols[a0_0x43ec('0x4a')],chalk['white'](a0_0x43ec('0x60')+_0x5c4617));});let _0x5b2162=0x0;_0x101b23['on'](a0_0x43ec('0x6c'),function(_0x5a64a7){_0x5b2162+=_0x5a64a7[a0_0x43ec('0x71')];_0x6cbd46['text']=a0_0x43ec('0x3e')+((_0x5b2162/_0x527681*0x64)[a0_0x43ec('0x2d')](0x2)+'%');});});}else{console['log'](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](a0_0x43ec('0x16')+_0x405200+a0_0x43ec('0x58')));}}catch(_0x31d63d){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x31d63d));}});});program['parse'](process[a0_0x43ec('0x6a')]);function createWidget(_0xa4040,_0xf0c06b,_0xb397e1,_0x2f97a6){if(!_0xa4040||!_0xf0c06b||!_0xb397e1){console[a0_0x43ec('0x45')](symbols['error'],chalk[a0_0x43ec('0x2a')](a0_0x43ec('0x2e')));return![];}console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk[a0_0x43ec('0x40')]('正在创建Widget:'+_0xa4040+a0_0x43ec('0x66')));try{const _0x38773f=a0_0x43ec('0x24')+_0xa4040;const _0x1520e3=a0_0x43ec('0x6e');if(!fs['existsSync'](_0x1520e3)){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](a0_0x43ec('0x4')));return![];}if(fs[a0_0x43ec('0x5')](_0x38773f)){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk['red']('Widget:'+_0xa4040+a0_0x43ec('0x61')));return![];}copydir['sync'](_0x1520e3,_0x38773f);const _0x53cf0b=_0x38773f+a0_0x43ec('0x65');let _0x59427b=fs[a0_0x43ec('0x9')](_0x53cf0b)[a0_0x43ec('0x2f')]();const _0x14bfd3=JSON['parse'](_0x59427b);_0x14bfd3['id']=_0xa4040;_0x14bfd3[a0_0x43ec('0x4f')]=_0xf0c06b;_0x14bfd3[a0_0x43ec('0x5f')]=_0xb397e1;_0x14bfd3[a0_0x43ec('0x44')]=_0x2f97a6;_0x59427b=JSON['stringify'](_0x14bfd3,null,0x2);fs[a0_0x43ec('0x39')](_0x53cf0b,_0x59427b);const _0x282785=a0_0x43ec('0xd');let _0x532ade=fs[a0_0x43ec('0x9')](_0x282785)['toString']();const _0x8b2947=JSON['parse'](_0x532ade);_0x8b2947['version']=getNextVersion(_0x8b2947[a0_0x43ec('0x3d')]);for(let _0x5dfa7d of _0x8b2947['widgets']){_0x5dfa7d[a0_0x43ec('0x6')]=![];}_0x8b2947[a0_0x43ec('0x2')][a0_0x43ec('0xa')]({'group':'测试','tag':a0_0x43ec('0x19'),'path':_0xa4040,'enable':!![]});_0x532ade=JSON['stringify'](_0x8b2947,null,0x2);fs[a0_0x43ec('0x39')](_0x282785,_0x532ade);console['log'](symbols[a0_0x43ec('0x4a')],chalk[a0_0x43ec('0x40')](a0_0x43ec('0x74')+_0xa4040+'...'));}catch(_0xfd5c12){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0xfd5c12));}return!![];}function getNextVersion(_0x1a7a30){if(_0x1a7a30){const _0x296c73=_0x1a7a30[a0_0x43ec('0x53')](/(.*\.)(\d+)$/);if(_0x296c73&&_0x296c73[0x1]&&_0x296c73[0x2]){return''+_0x296c73[0x1]+(parseInt(_0x296c73[0x2])+0x1);}}return _0x1a7a30;}function getWidgetIdList(){const _0x45f6d7=[];try{const _0x4a4dce='src/widgets/widgets.json';if(fs['existsSync'](_0x4a4dce)){const _0x3eae57=fs['readFileSync'](_0x4a4dce)['toString']();const _0x513084=JSON[a0_0x43ec('0xf')](_0x3eae57);for(let _0x482cf1 of _0x513084[a0_0x43ec('0x2')]){try{const _0x4e3480=a0_0x43ec('0x24')+_0x482cf1[a0_0x43ec('0x64')];const _0x501257=_0x4e3480+a0_0x43ec('0x65');if(fs[a0_0x43ec('0x5')](_0x501257)){let _0x1430aa=fs['readFileSync'](_0x501257)[a0_0x43ec('0x2f')]();const _0x54439e=JSON[a0_0x43ec('0xf')](_0x1430aa);_0x45f6d7['push']({'value':_0x54439e['id'],'name':a0_0x43ec('0x14')+_0x54439e['id']+a0_0x43ec('0x28')+_0x54439e[a0_0x43ec('0x4f')]+a0_0x43ec('0x3b')+_0x54439e[a0_0x43ec('0x3d')]});}}catch(_0x2472ec){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x482cf1['path']+a0_0x43ec('0x6f')));console['log'](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x2472ec));}}}}catch(_0x55bf94){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](a0_0x43ec('0x6b')));console[a0_0x43ec('0x45')](symbols['error'],chalk['red'](_0x55bf94));}return _0x45f6d7;}function startProxyServer(_0x41bff4,_0x411b11){console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk['blue'](a0_0x43ec('0x57')));var _0x2d0ab2=express();_0x2d0ab2[a0_0x43ec('0x8')]('/',proxy({'target':_0x41bff4,'changeOrigin':!![],'pathRewrite':{'/core/widgets':a0_0x43ec('0x1a')},'router':{'/core/widgets':widgetDebugUrl}}));_0x2d0ab2['listen'](proxyServerPort,function(){console[a0_0x43ec('0x45')](symbols['info'],chalk[a0_0x43ec('0x35')](a0_0x43ec('0x0')));console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk[a0_0x43ec('0xc')](a0_0x43ec('0x5c')));console['log'](symbols['info'],chalk[a0_0x43ec('0xc')]('Window:\x20\x22C:Program\x20Files\x20(x86)GoogleChromeApplicationchrome.exe\x22\x20--disable-web-security\x20--user-data-dir=~/chrome_tmp'));console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk[a0_0x43ec('0xc')](a0_0x43ec('0x22')));console['log'](symbols['info'],chalk[a0_0x43ec('0xc')](a0_0x43ec('0x4b')));if(_0x411b11){_0x411b11();}});}function connectFtpServer(_0x32e5ee){const _0x3d7574=new Client();const _0x5f1a3d=ora(a0_0x43ec('0x54'));_0x5f1a3d['start']();_0x3d7574['on'](a0_0x43ec('0x63'),function(){_0x5f1a3d['succeed']();console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x4a')],chalk[a0_0x43ec('0x40')](a0_0x43ec('0x26')));if(_0x32e5ee){_0x32e5ee(_0x3d7574);}});_0x3d7574['on']('error',function(_0x2ed71b){_0x5f1a3d[a0_0x43ec('0x27')]();console[a0_0x43ec('0x45')](symbols[a0_0x43ec('0x73')],chalk[a0_0x43ec('0x2a')](_0x2ed71b));});_0x3d7574[a0_0x43ec('0x68')]({'host':ftpServerAddress,'user':ftpServerUserName,'password':ftpServerPassword});}