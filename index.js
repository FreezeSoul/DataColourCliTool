#!/usr/bin/env node

const a0_0x4074=['dGFn','6LC35q2M5rWP6KeI5Zmo5ZCv5Yqo5oiQ5YqfLi4u','Y3JlYXRlUmVhZFN0cmVhbQ==','cGFjaw==','6K+36L6T5YWlV2lkZ2V05L2c6ICF5ZCN56ew77yM5aaC77yaRnJlZXplU291bDxmcmVlemVzb3VsQGdtYWlsLmNvbT4=','V2lkZ2V05bey5Y+R5biD77ya','YXJndg==','Y29ubmVjdA==','V2lkZ2V05Yib5bu65oiQ5Yqf','ZmFpbA==','Y3JlYXRlV3JpdGVTdHJlYW0=','5b2T5YmNV2lkZ2V05qCH6K+G77ya','cGFja2FnZS5qc29u','ZG93bmxvYWQtZ2l0LXJlcG8=','dG9TdHJpbmc=','TGludXg6IC9vcHQvZ29vZ2xlL2Nocm9tZS9jaHJvbWUgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9L3RtcC9jaHJvbWVfdG1w','5a6M5oiQ5a6J6KOF5L6d6LWW57uE5Lu2Li4u','dGhlbg==','cGlwZQ==','aG9zdA==','5Y+R5biD5omA5pyJV2lkZ2V0cw==','LnNyYy50YXI=','ZnRw','LXYsIC0tdmVyc2lvbg==','6K+36L6T5YWlV2lkZ2V055qE5ZCN56ew77yM6KaB5rGC566A55+t55qE5Lit5paH5ZCN56ew5a6a5LmJ','5qCH6K+GOg==','aHR0cDovLzEyNy4wLjAuMTo4MDg4Lw==','cHVibGlzaEFsbA==','aW5xdWlyZXI=','bGF1bmNo','5a6M5oiQ5p6E5bu6V2lkZ2V077ya','ZGVidWc=','Q2hhcnQ=','cmVwbGFjZQ==','bG9n','5YiX5Ye65omA5pyJV2lkZ2V0','LS1kaXNrLWNhY2hlLXNpemU9MQ==','dmVyc2lvbg==','LS11c2VyLWRhdGEtZGlyPS4vY2hyb21lX3RtcA==','Z3JlZW4=','bGlzdA==','6K+36YCJ5oup6KaB6LCD6K+V55qEV2lkZ2V0','Ymx1ZQ==','bG9nLXN5bWJvbHM=','dmFsdWU=','ZXhpc3RzU3luYw==','6K+36YCJ5oup6KaB5p6E5bu655qEV2lkZ2V0','L21hbmlmZXN0Lmpzb24=','Y29tbWFuZGVy','5LiN5a2Y5Zyo','L19fcGF0aF9fLnR4dA==','5Y+R5biD5LiA5LiqV2lkZ2V0','6K+36L6T5YWlV2lkZ2V055qE5o+P6L+w77yM6KaB5rGC566A55+t55qE5Lit5paH5o+P6L+w5L+h5oGv','cHVibGlzaA==','5pyN5Yqh5Zmo6L+e5o6l5bey5bu656uLLi4u','c3RhdFN5bmM=','ZW5k','RnJlZXplU291bC9EYXRhQ29sb3VyV2lkZ2V0VGVtcGxhdGUjbWFzdGVy','6YOo5Lu25bey5oiQ5Yqf5o+Q5LqkLi4u','Y2hpbGRfcHJvY2Vzcw==','c3Bhd24=','LOWQjeensDo=','d2lkZ2V0cw==','6YOo5Lu25Luj56CB5o+Q5Lqk5LitLi4u','YWN0aW9u','6K+36L6T5YWl5bmz5Y+w5pyN5Yqh5Zyw5Z2A77yM6buY6K6k6LCD55So5YWs5YWx5pyN5Yqh','5bey5a2Y5Zyo','bGVuZ3Ro','ZGlzdC93aWRnZXRzLw==','cGF0aA==','ZmluaXNo','5q2j5Zyo5LiL6L29V2lkZ2V05qih5p2/Li4u','c3JjL3dpZGdldHMvd2lkZ2V0cy5qc29u','bWtkaXJTeW5j','6K+35o+Q5L6b5a6M5pW055qEV2lkZ2V05L+h5oGv','5b2T5YmNV2lkZ2V054mI5pys5Y+377ya','c3RyaW5naWZ5','ZW5hYmxl','dGFyLWZz','YXV0aG9y','bGlzdGVu','5ZCv5Yqo6LC35q2M5rWP6KeI5Zmo6LCD6K+VLi4u','aW5oZXJpdA==','LOeJiOacrDo=','YnVpbGQ=','aHR0cC1wcm94eS1taWRkbGV3YXJl','cnVu','6LCD6K+V5LiA5LiqV2lkZ2V0','aW5mbw==','c3RhcnQ=','ZXhlY1N5bmM=','cmVhZHk=','c3luYw==','5a6M5oiQ6aG555uu5Yid5aeL5YyW77yM6K+35Yib5bu65LiA5LiqV2lkZ2V0','6YOo5Lu25Luj56CB5o+Q5Lqk5LitLi4uCQ==','Li4u','LmRpc3QudGFy','d3JpdGVGaWxlU3luYw==','6K+356Gu6K6k5piv5ZCm5aSH5Lu96Iez5YWs5YWx5o+S5Lu25Lit5b+D77yM6K+36L6T5YWleS9uKOm7mOiupG4p','ZGF0YQ==','cHJvbXB0','bWF0Y2g=','d2lkZ2V0cy5qc29u6K+75Y+W5aSx6LSl','LS1kaXNhYmxlLXdlYi1zZWN1cml0eQ==','5aaC5rWP6KeI5Zmo5ZCv5Yqo5aSx6LSl77yM6K+36YCa6L+H5aaC5LiL5ZG95Luk6KGM5omL5bel5ZCv5Yqo77ya','bW92ZVN5bmM=','bnBtIGluc3RhbGw=','cHV0','c2hpZnQ=','ZGVzY3JpcHRpb24=','5Yid5aeL5YyWV2lkZ2V06aG555uu','Y2hhbGs=','c3JjL3dpZGdldHMvdGVtcGxhdGUvd2lkZ2V0','cmVzb2x2ZQ==','6K+35Y+N6aaI5Y+R5biD5bqP5Y+3Og==','YWxs','cHVibGlzaC8=','Y29weS1kaXI=','6K+36YCJ5oup6KaB5Y+R5biD55qEV2lkZ2V0','cmF3bGlzdA==','dXNl','bmFtZQ==','bnBtIHJ1biBidWlsZC13aWRnZXQ6cHJvIC0tIC0tcGF0aD0=','6K+36L6T5YWlV2lkZ2V055qE5qCH6K+G77yM6KaB5rGC6Iux5paH44CB5pWw5a2X44CB5LiL5YiS57q/','5byA5aeL5bu656uL5pyN5Yqh5Zmo6L+e5o6lLi4u','c3Rkb3V0','Y3JlYXRl','ZnMtZXh0cmE=','6K+36L6T5YWlV2lkZ2V05a2Y5YKo6Lev5b6E77yM6buY6K6k6Lev5b6EdW5vZmZpY2lhbO+8jOW7uuiurum7mOiupA==','c3VjY2VlZA==','ZnRwLmRhdGFjb2xvdXIuY24=','d2hpdGU=','c3RhcnQtd2lkZ2V0','5Yib5bu65LiA5LiqV2lkZ2V0','V2lkZ2V0Og==','dGV4dA==','Y29tbWFuZA==','aW5pdCA8bmFtZT4=','cHVzaA==','6K+75Y+W5aSx6LSl','5q2j5Zyo5ZCv5Yqo5Luj55CG5pyN5YqhLi4u','5bey5a2Y5Zyo5a+55bqU55uu5b2V','c3JjL3dpZGdldHMv','cmVk','cmVhZEZpbGVTeW5j','5p6E5bu65omA5pyJV2lkZ2V0cw==','aHR0cDovLzM5LjEwMS4xMzguNDM6ODA4MA==','cGFyc2U=','LS1tZWRpYS1jYWNoZS1zaXplPTE=','aGFuZGxlYmFycw==','ZXJyb3I=','6K+36L6T5YWlV2lkZ2V05YiG57G75qCH562+77yM6KaB5rGC6Iux5paH5a2X5q+N77yM5aSa5Liq6YCX5Y+35YiG5Ymy','ZGF0YWNvbG91cg==','T1NYOiBvcGVuIC1uIC1hIC9BcHBsaWNhdGlvbnMvR29vZ2xlIENocm9tZS5hcHAvQ29udGVudHMvTWFjT1MvR29vZ2xlIENocm9tZSAtLWFyZ3MgLS1kaXNhYmxlLXdlYi1zZWN1cml0eSAtLXVzZXItZGF0YS1kaXI9Ii90bXAvY2hyb21lX3RtcCI=','b3Jh','c3VjY2Vzcw==','YnVpbGQv','Y2hyb21lLWxhdW5jaGVy'];(function(_0x5f25e2,_0x36d499){const _0xed72d1=function(_0xc591b4){while(--_0xc591b4){_0x5f25e2['push'](_0x5f25e2['shift']());}};_0xed72d1(++_0x36d499);}(a0_0x4074,0x10a));const a0_0x58b9=function(_0x5f25e2,_0x36d499){_0x5f25e2=_0x5f25e2-0x0;let _0xed72d1=a0_0x4074[_0x5f25e2];if(a0_0x58b9['HXuuNs']===undefined){(function(){const _0x2e5f01=function(){let _0x5b9e85;try{_0x5b9e85=Function('return\x20(function()\x20'+'{}.constructor(\x22return\x20this\x22)(\x20)'+');')();}catch(_0x3138cb){_0x5b9e85=window;}return _0x5b9e85;};const _0x57899e=_0x2e5f01();const _0xffc099='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';_0x57899e['atob']||(_0x57899e['atob']=function(_0x3b141a){const _0x29f90e=String(_0x3b141a)['replace'](/=+$/,'');let _0x15366e='';for(let _0x289606=0x0,_0x3e6620,_0x4d3a0a,_0x34fd62=0x0;_0x4d3a0a=_0x29f90e['charAt'](_0x34fd62++);~_0x4d3a0a&&(_0x3e6620=_0x289606%0x4?_0x3e6620*0x40+_0x4d3a0a:_0x4d3a0a,_0x289606++%0x4)?_0x15366e+=String['fromCharCode'](0xff&_0x3e6620>>(-0x2*_0x289606&0x6)):0x0){_0x4d3a0a=_0xffc099['indexOf'](_0x4d3a0a);}return _0x15366e;});}());a0_0x58b9['OknuCw']=function(_0x3f46b4){const _0x39bfac=atob(_0x3f46b4);let _0x107441=[];for(let _0x40e5f1=0x0,_0x3819bc=_0x39bfac['length'];_0x40e5f1<_0x3819bc;_0x40e5f1++){_0x107441+='%'+('00'+_0x39bfac['charCodeAt'](_0x40e5f1)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x107441);};a0_0x58b9['VPkumQ']={};a0_0x58b9['HXuuNs']=!![];}const _0xc591b4=a0_0x58b9['VPkumQ'][_0x5f25e2];if(_0xc591b4===undefined){_0xed72d1=a0_0x58b9['OknuCw'](_0xed72d1);a0_0x58b9['VPkumQ'][_0x5f25e2]=_0xed72d1;}else{_0xed72d1=_0xc591b4;}return _0xed72d1;};const fs=require('fs');const fse=require(a0_0x58b9('0x13'));const path=require(a0_0x58b9('0x77'));const ora=require(a0_0x58b9('0x2e'));const tar=require(a0_0x58b9('0x80'));const Client=require('ftp');const chalk=require(a0_0x58b9('0x3'));const express=require('express');const copydir=require(a0_0x58b9('0x9'));const program=require(a0_0x58b9('0x62'));const inquirer=require(a0_0x58b9('0x4e'));const symbols=require(a0_0x58b9('0x5d'));const handlebars=require(a0_0x58b9('0x29'));const proxy=require(a0_0x58b9('0x87'));const download=require(a0_0x58b9('0x3f'));const child_process=require(a0_0x58b9('0x6d'));const ChromeLauncher=require(a0_0x58b9('0x31'));const githublink=a0_0x58b9('0x6b');const dcServerAddress=a0_0x58b9('0x26');const widgetDebugUrl=a0_0x58b9('0x4c');const ftpServerAddress=a0_0x58b9('0x16');const ftpServerUserName=a0_0x58b9('0x2c');const ftpServerPassword=a0_0x58b9('0x2c');const proxyServerPort=0x270f;try{const packagePath=path[a0_0x58b9('0x5')](__dirname,a0_0x58b9('0x3e'));if(fs['existsSync'](packagePath)){const pjson=require(packagePath);const version=pjson['version'];program[a0_0x58b9('0x57')](version,a0_0x58b9('0x49'));}}catch(a0_0x177572){}program['command'](a0_0x58b9('0x1d'))[a0_0x58b9('0x1')](a0_0x58b9('0x2'))[a0_0x58b9('0x72')](_0x3190de=>{if(!fs[a0_0x58b9('0x5f')](_0x3190de)){console[a0_0x58b9('0x54')](symbols['info'],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x2')));const _0x1c3690=ora(a0_0x58b9('0x79'));_0x1c3690[a0_0x58b9('0x8b')]();download(githublink,_0x3190de,{'clone':![]},_0x1543ea=>{if(_0x1543ea){_0x1c3690[a0_0x58b9('0x3b')]();console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk['red'](_0x1543ea));}else{_0x1c3690[a0_0x58b9('0x15')]();process['chdir'](_0x3190de);console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x17')]('开始安装依赖组件...'));child_process['execSync'](a0_0x58b9('0x9c'),{'stdio':a0_0x58b9('0x84')});console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x42')));console[a0_0x58b9('0x54')](symbols['info'],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x8f')));}});}else{console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk['red']('项目'+_0x3190de+a0_0x58b9('0x74')));}});program[a0_0x58b9('0x1c')](a0_0x58b9('0x5a'))[a0_0x58b9('0x1')](a0_0x58b9('0x55'))['action'](()=>{try{const _0x4b1a5e=a0_0x58b9('0x7a');if(fs[a0_0x58b9('0x5f')](_0x4b1a5e)){const _0x17b148=fs[a0_0x58b9('0x24')](_0x4b1a5e)[a0_0x58b9('0x40')]();const _0x187580=JSON['parse'](_0x17b148);for(let _0x246c1b of _0x187580[a0_0x58b9('0x70')]){const _0x14b296='src/widgets/'+_0x246c1b[a0_0x58b9('0x77')];const _0x220a0e=_0x14b296+'/manifest.json';if(fs[a0_0x58b9('0x5f')](_0x220a0e)){let _0x2bc7f1=fs[a0_0x58b9('0x24')](_0x220a0e)[a0_0x58b9('0x40')]();const _0x3ee51b=JSON[a0_0x58b9('0x27')](_0x2bc7f1);console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x4b')+_0x3ee51b['id']+a0_0x58b9('0x6f')+_0x3ee51b[a0_0x58b9('0xd')]+a0_0x58b9('0x85')+_0x3ee51b[a0_0x58b9('0x57')]));}}}}catch(_0x49b967){console['log'](symbols['error'],chalk[a0_0x58b9('0x23')](_0x49b967));}});program[a0_0x58b9('0x1c')](a0_0x58b9('0x12'))[a0_0x58b9('0x1')](a0_0x58b9('0x19'))['action'](()=>{inquirer['prompt']([{'name':'id','message':a0_0x58b9('0xf')},{'name':'name','message':a0_0x58b9('0x4a')},{'name':a0_0x58b9('0x1'),'message':a0_0x58b9('0x66')},{'name':a0_0x58b9('0x32'),'message':a0_0x58b9('0x2b')},{'name':a0_0x58b9('0x81'),'message':a0_0x58b9('0x36')},{'name':a0_0x58b9('0x77'),'message':a0_0x58b9('0x14')}])[a0_0x58b9('0x43')](_0x1cfd1e=>{try{const _0x145451=_0x1cfd1e['id'];const _0x1dea74=_0x1cfd1e['name'];const _0x20e2e6=_0x1cfd1e[a0_0x58b9('0x1')];const _0x1b4d47=_0x1cfd1e[a0_0x58b9('0x81')];const _0x41a42d=_0x1cfd1e[a0_0x58b9('0x32')]?_0x1cfd1e[a0_0x58b9('0x32')]:a0_0x58b9('0x52');const _0x39e9c6=_0x1cfd1e[a0_0x58b9('0x77')]?_0x1cfd1e[a0_0x58b9('0x77')]['replace'](/^\/+|\/+$/g,''):'unofficial';const _0x3067e0=createWidget(_0x145451,_0x1dea74,_0x20e2e6,_0x1b4d47,_0x41a42d,_0x39e9c6);if(_0x3067e0){console[a0_0x58b9('0x54')](symbols['success'],chalk['green'](a0_0x58b9('0x3a')));}}catch(_0x317497){console[a0_0x58b9('0x54')](symbols['error'],chalk['red'](_0x317497));}});});program[a0_0x58b9('0x1c')](a0_0x58b9('0x51'))[a0_0x58b9('0x1')](a0_0x58b9('0x89'))[a0_0x58b9('0x72')](()=>{inquirer['prompt']([{'name':'id','message':a0_0x58b9('0x5b'),'type':a0_0x58b9('0xb'),'choices':getWidgetsList()},{'name':a0_0x58b9('0x45'),'message':a0_0x58b9('0x73')}])[a0_0x58b9('0x43')](_0x4897f5=>{try{const _0x4be428=_0x4897f5['id'];const _0x45071e=getWidgetPath(_0x4be428);const _0x22645a=_0x4897f5[a0_0x58b9('0x45')]?_0x4897f5[a0_0x58b9('0x45')]:dcServerAddress;const _0x1aabff=a0_0x58b9('0x22')+_0x45071e+a0_0x58b9('0x61');if(fs[a0_0x58b9('0x5f')](_0x1aabff)){const _0x4735ea=a0_0x58b9('0x7a');let _0x3cf316=fs[a0_0x58b9('0x24')](_0x4735ea)['toString']();const _0x241ea8=JSON[a0_0x58b9('0x27')](_0x3cf316);_0x241ea8['version']=getNextVersion(_0x241ea8['version']);for(let _0xe1e24e of _0x241ea8[a0_0x58b9('0x70')]){_0xe1e24e[a0_0x58b9('0x7f')]=_0xe1e24e[a0_0x58b9('0x77')]===_0x45071e;}_0x3cf316=JSON[a0_0x58b9('0x7e')](_0x241ea8,null,0x2);fs['writeFileSync'](_0x4735ea,_0x3cf316);let _0x1fcd72=fs[a0_0x58b9('0x24')](_0x1aabff)[a0_0x58b9('0x40')]();const _0x356d84=JSON[a0_0x58b9('0x27')](_0x1fcd72);_0x356d84['version']=getNextVersion(_0x356d84[a0_0x58b9('0x57')]);_0x1fcd72=JSON['stringify'](_0x356d84,null,0x2);fs[a0_0x58b9('0x93')](_0x1aabff,_0x1fcd72);console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk['white'](a0_0x58b9('0x7d')+_0x356d84[a0_0x58b9('0x57')]));startProxyServer(_0x22645a,function(){const _0x138e4f=child_process[a0_0x58b9('0x6e')]('npm',[a0_0x58b9('0x88'),a0_0x58b9('0x18'),'--\x20--path='+_0x45071e],{'shell':!![]});_0x138e4f[a0_0x58b9('0x11')]['on']('data',function(_0x4a5630){console['log'](_0x4a5630['toString']());});_0x138e4f['stderr']['on'](a0_0x58b9('0x95'),function(_0x46aaf1){console[a0_0x58b9('0x54')](_0x46aaf1[a0_0x58b9('0x40')]());});});}else{console['log'](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')]('Widget:'+_0x4be428+a0_0x58b9('0x63')));}}catch(_0x55f5d8){console[a0_0x58b9('0x54')](symbols['error'],chalk['red'](_0x55f5d8));}});});program['command'](a0_0x58b9('0x86'))[a0_0x58b9('0x1')]('构建一个Widget')['action'](()=>{inquirer[a0_0x58b9('0x96')]([{'name':'id','message':a0_0x58b9('0x60'),'type':a0_0x58b9('0xb'),'choices':getWidgetsList()}])[a0_0x58b9('0x43')](_0x5762e9=>{try{const _0x5aaa94=_0x5762e9['id'];const _0x26b404=getWidgetPath(_0x5aaa94);const _0x3951fc='src/widgets/'+_0x26b404+a0_0x58b9('0x61');if(fs[a0_0x58b9('0x5f')](_0x3951fc)){let _0x1d4950=fs[a0_0x58b9('0x24')](_0x3951fc)['toString']();const _0x1365cf=JSON[a0_0x58b9('0x27')](_0x1d4950);_0x1365cf['version']=getNextVersion(_0x1365cf[a0_0x58b9('0x57')]);_0x1d4950=JSON['stringify'](_0x1365cf,null,0x2);fs[a0_0x58b9('0x93')](_0x3951fc,_0x1d4950);console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk['white'](a0_0x58b9('0x7d')+_0x1365cf[a0_0x58b9('0x57')]));child_process['execSync'](a0_0x58b9('0xe')+_0x26b404,{'stdio':a0_0x58b9('0x84')});}else{console[a0_0x58b9('0x54')](symbols['error'],chalk[a0_0x58b9('0x23')](a0_0x58b9('0x1a')+_0x5aaa94+a0_0x58b9('0x63')));}}catch(_0x538040){console['log'](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')](_0x538040));}});});program[a0_0x58b9('0x1c')]('buildAll')[a0_0x58b9('0x1')](a0_0x58b9('0x25'))['action'](()=>{try{const _0x4b0dd0=getWidgetsList();for(let _0x4b2463 of _0x4b0dd0){const _0x3067f4=_0x4b2463[a0_0x58b9('0x5e')];const _0x326b9f=getWidgetPath(_0x3067f4);const _0x1d4816='src/widgets/'+_0x326b9f+'/manifest.json';if(fs[a0_0x58b9('0x5f')](_0x1d4816)){let _0x2c91fd=fs[a0_0x58b9('0x24')](_0x1d4816)[a0_0x58b9('0x40')]();const _0x417ad6=JSON[a0_0x58b9('0x27')](_0x2c91fd);_0x417ad6[a0_0x58b9('0x57')]=getNextVersion(_0x417ad6['version']);_0x2c91fd=JSON[a0_0x58b9('0x7e')](_0x417ad6,null,0x2);fs['writeFileSync'](_0x1d4816,_0x2c91fd);console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x3d')+_0x3067f4));console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x17')]('当前Widget版本号：'+_0x417ad6['version']));child_process[a0_0x58b9('0x8c')](a0_0x58b9('0xe')+_0x326b9f,{'stdio':a0_0x58b9('0x84')});console[a0_0x58b9('0x54')](symbols['success'],chalk[a0_0x58b9('0x59')](a0_0x58b9('0x50')+_0x417ad6[a0_0x58b9('0x57')]));const _0x28a8cf=a0_0x58b9('0x76')+_0x326b9f;const _0x2a2578=a0_0x58b9('0x30')+_0x326b9f;if(!fs[a0_0x58b9('0x5f')](a0_0x58b9('0x86'))){fs[a0_0x58b9('0x7b')](a0_0x58b9('0x86'));}if(fs[a0_0x58b9('0x5f')](_0x28a8cf)){fse[a0_0x58b9('0x9b')](_0x28a8cf,_0x2a2578);}}else{console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')](a0_0x58b9('0x1a')+_0x3067f4+'不存在'));}}}catch(_0x16c6de){console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')](_0x16c6de));}});program[a0_0x58b9('0x1c')](a0_0x58b9('0x67'))[a0_0x58b9('0x1')](a0_0x58b9('0x65'))[a0_0x58b9('0x72')](()=>{inquirer[a0_0x58b9('0x96')]([{'name':'id','message':a0_0x58b9('0xa'),'type':a0_0x58b9('0xb'),'choices':getWidgetsList()},{'name':a0_0x58b9('0x48'),'message':a0_0x58b9('0x94')}])[a0_0x58b9('0x43')](_0x25f952=>{try{const _0x40d802=_0x25f952['id'];const _0x482d84=getWidgetPath(_0x40d802);const _0xd6aec6=a0_0x58b9('0x22')+_0x482d84;const _0x2dc33b=a0_0x58b9('0x76')+_0x482d84;const _0x23c5e8=_0xd6aec6+a0_0x58b9('0x61');const _0xc7729d=new Date()['toISOString']()[a0_0x58b9('0x53')](/T/,'')['replace'](/\..+/,'')[a0_0x58b9('0x53')](/-/g,'')[a0_0x58b9('0x53')](/:/g,'');const _0x3161dd=_0x40d802+'.'+_0xc7729d;const _0x564c28=_0x3161dd+a0_0x58b9('0x47');const _0x4106b2=_0x3161dd+a0_0x58b9('0x92');const _0x59c505=a0_0x58b9('0x8')+_0x564c28;const _0x50875c=a0_0x58b9('0x8')+_0x4106b2;if(!fs['existsSync'](a0_0x58b9('0x67'))){fs['mkdirSync']('publish');}if(fs[a0_0x58b9('0x5f')](_0x23c5e8)){let _0x171f01=fs['readFileSync'](_0x23c5e8)[a0_0x58b9('0x40')]();const _0x12bc57=JSON[a0_0x58b9('0x27')](_0x171f01);_0x12bc57[a0_0x58b9('0x57')]=getNextVersion(_0x12bc57[a0_0x58b9('0x57')]);_0x171f01=JSON[a0_0x58b9('0x7e')](_0x12bc57,null,0x2);fs[a0_0x58b9('0x93')](_0x23c5e8,_0x171f01);console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk['white']('当前Widget版本号：'+_0x12bc57[a0_0x58b9('0x57')]));child_process[a0_0x58b9('0x8c')](a0_0x58b9('0xe')+_0x482d84,{'stdio':a0_0x58b9('0x84')});fs[a0_0x58b9('0x93')](_0xd6aec6+a0_0x58b9('0x64'),_0x482d84);fs[a0_0x58b9('0x93')](_0x2dc33b+a0_0x58b9('0x64'),_0x482d84);tar['pack'](_0xd6aec6)[a0_0x58b9('0x44')](fs[a0_0x58b9('0x3c')](_0x59c505));tar[a0_0x58b9('0x35')](_0x2dc33b)[a0_0x58b9('0x44')](fs['createWriteStream'](_0x50875c));const _0x4ee9b4=_0x25f952['ftp'];if(_0x4ee9b4==='y'){connectFtpServer(function(_0x4faf30){const _0x231516=ora(a0_0x58b9('0x71'));_0x231516[a0_0x58b9('0x8b')]();const _0x41cfe8=fs[a0_0x58b9('0x34')](_0x59c505);const _0x37aac5=fs[a0_0x58b9('0x69')](_0x59c505)['size'];_0x4faf30[a0_0x58b9('0x9d')](_0x41cfe8,_0x564c28,function(_0x41eead){if(_0x41eead){_0x231516['fail']();console[a0_0x58b9('0x54')](symbols['error'],chalk[a0_0x58b9('0x23')](_0x41eead));throw _0x41eead;}_0x4faf30[a0_0x58b9('0x6a')]();_0x231516[a0_0x58b9('0x15')](a0_0x58b9('0x71'));console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2f')],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x6c')));console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x6')+_0x3161dd));});let _0x3a5086=0x0;_0x41cfe8['on'](a0_0x58b9('0x95'),function(_0x266b1d){_0x3a5086+=_0x266b1d[a0_0x58b9('0x75')];_0x231516[a0_0x58b9('0x1b')]=a0_0x58b9('0x90')+((_0x3a5086/_0x37aac5*0x64)['toFixed'](0x2)+'%');});});}}else{console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')](a0_0x58b9('0x1a')+_0x40d802+a0_0x58b9('0x63')));}}catch(_0x270de0){console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')](_0x270de0));}});});program[a0_0x58b9('0x1c')](a0_0x58b9('0x4d'))[a0_0x58b9('0x1')](a0_0x58b9('0x46'))[a0_0x58b9('0x72')](()=>{try{const _0x25bb87=getWidgetsList();const _0x1b5697=function(){const _0xce5ad5=_0x25bb87[a0_0x58b9('0x0')]();if(!_0xce5ad5)return;const _0x2c052b=_0xce5ad5[a0_0x58b9('0x5e')];const _0x1a10f7=getWidgetPath(_0x2c052b);const _0x3db309=a0_0x58b9('0x22')+_0x1a10f7;const _0x25b78d=a0_0x58b9('0x76')+_0x1a10f7;const _0x1f6e93=_0x3db309+'/manifest.json';const _0x3c74f5=new Date()['toISOString']()[a0_0x58b9('0x53')](/T/,'')[a0_0x58b9('0x53')](/\..+/,'')[a0_0x58b9('0x53')](/-/g,'')[a0_0x58b9('0x53')](/:/g,'');const _0x4dc661=_0x2c052b+'.'+_0x3c74f5;const _0x125978=_0x4dc661+a0_0x58b9('0x47');const _0x1cf7c7=_0x4dc661+a0_0x58b9('0x92');const _0xf9718a=a0_0x58b9('0x8')+_0x125978;const _0x2738b0=a0_0x58b9('0x8')+_0x1cf7c7;if(!fs[a0_0x58b9('0x5f')](a0_0x58b9('0x67'))){fs[a0_0x58b9('0x7b')](a0_0x58b9('0x67'));}if(fs[a0_0x58b9('0x5f')](_0x1f6e93)){let _0x52c946=fs[a0_0x58b9('0x24')](_0x1f6e93)[a0_0x58b9('0x40')]();const _0x2dab18=JSON[a0_0x58b9('0x27')](_0x52c946);_0x2dab18[a0_0x58b9('0x57')]=getNextVersion(_0x2dab18[a0_0x58b9('0x57')]);_0x52c946=JSON[a0_0x58b9('0x7e')](_0x2dab18,null,0x2);fs[a0_0x58b9('0x93')](_0x1f6e93,_0x52c946);console[a0_0x58b9('0x54')](symbols['info'],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x7d')+_0x2dab18[a0_0x58b9('0x57')]));child_process[a0_0x58b9('0x8c')]('npm\x20run\x20build-widget:pro\x20--\x20--path='+_0x1a10f7,{'stdio':'inherit'});fs[a0_0x58b9('0x93')](_0x3db309+a0_0x58b9('0x64'),_0x1a10f7);fs['writeFileSync'](_0x25b78d+a0_0x58b9('0x64'),_0x1a10f7);var _0xd4b7fc=new Promise((_0x37a0ee,_0x32fe53)=>{tar[a0_0x58b9('0x35')](_0x3db309)['pipe'](fs[a0_0x58b9('0x3c')](_0xf9718a))['on']('finish',()=>{_0x37a0ee(!![]);})['on'](a0_0x58b9('0x2a'),_0x26a6e4=>{_0x32fe53(_0x26a6e4);});});var _0x21d890=new Promise((_0x5ac132,_0xf68db)=>{tar[a0_0x58b9('0x35')](_0x25b78d)[a0_0x58b9('0x44')](fs[a0_0x58b9('0x3c')](_0x2738b0))['on'](a0_0x58b9('0x78'),()=>{_0x5ac132(!![]);})['on']('error',_0x1c0e73=>{_0xf68db(_0x1c0e73);});});Promise[a0_0x58b9('0x7')]([_0xd4b7fc,_0x21d890])[a0_0x58b9('0x43')](()=>{console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk['white'](a0_0x58b9('0x37')+_0x2c052b));_0x1b5697();});}else{console['log'](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')]('Widget:'+_0x2c052b+a0_0x58b9('0x63')));}};_0x1b5697();}catch(_0x5cd9dd){console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk['red'](_0x5cd9dd));}});program[a0_0x58b9('0x27')](process[a0_0x58b9('0x38')]);function createWidget(_0x44b3e0,_0x22fa2a,_0x4be7d9,_0x15baf6,_0x2cef8e,_0x488916){if(!_0x44b3e0||!_0x22fa2a||!_0x4be7d9||!_0x2cef8e||!_0x488916){console[a0_0x58b9('0x54')](symbols['error'],chalk[a0_0x58b9('0x23')](a0_0x58b9('0x7c')));return![];}console[a0_0x58b9('0x54')](symbols['info'],chalk[a0_0x58b9('0x17')]('正在创建Widget:'+_0x44b3e0+'...'));try{const _0x4ef449=_0x488916+'/'+_0x44b3e0;const _0x59a744=a0_0x58b9('0x22')+_0x488916;const _0x181dc6=a0_0x58b9('0x22')+_0x4ef449;const _0x12aef6=a0_0x58b9('0x4');if(!fs[a0_0x58b9('0x5f')](_0x59a744)){fs[a0_0x58b9('0x7b')](_0x59a744);}if(!fs[a0_0x58b9('0x5f')](_0x12aef6)){console['log'](symbols['error'],chalk[a0_0x58b9('0x23')]('Widget模板文件夹不存在'));return![];}if(fs['existsSync'](_0x181dc6)){console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk['red'](a0_0x58b9('0x1a')+_0x44b3e0+a0_0x58b9('0x21')));return![];}copydir[a0_0x58b9('0x8e')](_0x12aef6,_0x181dc6);const _0x48f28a=_0x181dc6+'/manifest.json';let _0x1554da=fs[a0_0x58b9('0x24')](_0x48f28a)[a0_0x58b9('0x40')]();const _0x5b4a32=JSON[a0_0x58b9('0x27')](_0x1554da);_0x5b4a32['id']=_0x44b3e0;_0x5b4a32['tag']=_0x2cef8e;_0x5b4a32[a0_0x58b9('0xd')]=_0x22fa2a;_0x5b4a32[a0_0x58b9('0x1')]=_0x4be7d9;_0x5b4a32[a0_0x58b9('0x81')]=_0x15baf6;_0x1554da=JSON[a0_0x58b9('0x7e')](_0x5b4a32,null,0x2);fs[a0_0x58b9('0x93')](_0x48f28a,_0x1554da);const _0x3869c4=a0_0x58b9('0x7a');let _0x3c3ec6=fs['readFileSync'](_0x3869c4)[a0_0x58b9('0x40')]();const _0x3f8668=JSON['parse'](_0x3c3ec6);_0x3f8668[a0_0x58b9('0x57')]=getNextVersion(_0x3f8668[a0_0x58b9('0x57')]);for(let _0x50ada0 of _0x3f8668['widgets']){_0x50ada0[a0_0x58b9('0x7f')]=![];}_0x3f8668[a0_0x58b9('0x70')]['push']({'group':'测试','path':_0x4ef449,'enable':!![]});_0x3c3ec6=JSON['stringify'](_0x3f8668,null,0x2);fs[a0_0x58b9('0x93')](_0x3869c4,_0x3c3ec6);console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x17')]('完成创建Widget:'+_0x44b3e0+a0_0x58b9('0x91')));}catch(_0x4489ce){console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')](_0x4489ce));return![];}return!![];}function getNextVersion(_0x2c6ea4){if(_0x2c6ea4){const _0x237d17=_0x2c6ea4[a0_0x58b9('0x97')](/(.*\.)(\d+)$/);if(_0x237d17&&_0x237d17[0x1]&&_0x237d17[0x2]){return''+_0x237d17[0x1]+(parseInt(_0x237d17[0x2])+0x1);}}return _0x2c6ea4;}function getWidgetsList(){const _0x55dc37=[];try{const _0x4dc128=a0_0x58b9('0x7a');if(fs[a0_0x58b9('0x5f')](_0x4dc128)){const _0x1dd733=fs[a0_0x58b9('0x24')](_0x4dc128)[a0_0x58b9('0x40')]();const _0xdfc509=JSON['parse'](_0x1dd733);for(let _0x4f6df6 of _0xdfc509[a0_0x58b9('0x70')]){try{const _0x479dad=a0_0x58b9('0x22')+_0x4f6df6[a0_0x58b9('0x77')];const _0x220bff=_0x479dad+a0_0x58b9('0x61');if(fs[a0_0x58b9('0x5f')](_0x220bff)){let _0x33d16a=fs['readFileSync'](_0x220bff)[a0_0x58b9('0x40')]();const _0x8b336e=JSON[a0_0x58b9('0x27')](_0x33d16a);_0x55dc37[a0_0x58b9('0x1e')]({'value':_0x8b336e['id'],'name':a0_0x58b9('0x4b')+_0x8b336e['id']+',名称:'+_0x8b336e['name']+a0_0x58b9('0x85')+_0x8b336e[a0_0x58b9('0x57')]});}}catch(_0x20e105){console['log'](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')](_0x4f6df6[a0_0x58b9('0x77')]+a0_0x58b9('0x1f')));console['log'](symbols['error'],chalk[a0_0x58b9('0x23')](_0x20e105));}}}}catch(_0x1967e7){console[a0_0x58b9('0x54')](symbols['error'],chalk[a0_0x58b9('0x23')](a0_0x58b9('0x98')));console['log'](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')](_0x1967e7));}return _0x55dc37;}function getWidgetPath(_0x71c226){const _0x2e4d4c='src/widgets/widgets.json';let _0x379cb9=fs[a0_0x58b9('0x24')](_0x2e4d4c)['toString']();const _0x3faebe=JSON[a0_0x58b9('0x27')](_0x379cb9);for(let _0x38f76f of _0x3faebe[a0_0x58b9('0x70')]){const _0x50a792='src/widgets/'+_0x38f76f[a0_0x58b9('0x77')]+'/manifest.json';let _0x1e84a4=fs[a0_0x58b9('0x24')](_0x50a792)[a0_0x58b9('0x40')]();const _0x3e6aac=JSON[a0_0x58b9('0x27')](_0x1e84a4);if(_0x3e6aac['id']===_0x71c226){return _0x38f76f['path'];}}console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x2a')],chalk[a0_0x58b9('0x23')]('未找到匹配的widget：'+_0x71c226));}function startProxyServer(_0x2df45b,_0x2a08b3){console[a0_0x58b9('0x54')](symbols['info'],chalk[a0_0x58b9('0x5c')](a0_0x58b9('0x20')));var _0x49d55e=express();_0x49d55e[a0_0x58b9('0xc')]('/',proxy({'target':_0x2df45b,'changeOrigin':!![],'pathRewrite':{'/core/widgets':'/widgets'},'router':{'/core/widgets':widgetDebugUrl}}));_0x49d55e[a0_0x58b9('0x82')](proxyServerPort,function(){console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk['blue']('代理服务器已启动...'));console[a0_0x58b9('0x54')](symbols['info'],chalk[a0_0x58b9('0x5c')](a0_0x58b9('0x83')));console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x59')](a0_0x58b9('0x9a')));console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x59')]('Window:\x20\x22C:Program\x20Files\x20(x86)GoogleChromeApplicationchrome.exe\x22\x20--disable-web-security\x20--user-data-dir=~/chrome_tmp'));console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x59')](a0_0x58b9('0x41')));console['log'](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x59')](a0_0x58b9('0x2d')));ChromeLauncher[a0_0x58b9('0x4f')]({'startingUrl':'http://127.0.0.1:'+proxyServerPort,'chromeFlags':[a0_0x58b9('0x99'),a0_0x58b9('0x58'),a0_0x58b9('0x28'),a0_0x58b9('0x56')]})[a0_0x58b9('0x43')](_0x63fede=>{console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x5c')](a0_0x58b9('0x33')));});if(_0x2a08b3){_0x2a08b3();}});}function connectFtpServer(_0x85524){const _0xec724=new Client();const _0x17d422=ora(a0_0x58b9('0x10'));_0x17d422[a0_0x58b9('0x8b')]();_0xec724['on'](a0_0x58b9('0x8d'),function(){_0x17d422[a0_0x58b9('0x15')]();console[a0_0x58b9('0x54')](symbols[a0_0x58b9('0x8a')],chalk[a0_0x58b9('0x17')](a0_0x58b9('0x68')));if(_0x85524){_0x85524(_0xec724);}});_0xec724['on'](a0_0x58b9('0x2a'),function(_0x5d62f2){_0x17d422['fail']();console['log'](symbols[a0_0x58b9('0x2a')],chalk['red'](_0x5d62f2));});_0xec724[a0_0x58b9('0x39')]({'host':ftpServerAddress,'user':ftpServerUserName,'password':ftpServerPassword});}